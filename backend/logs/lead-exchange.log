2025-08-06 06:15:26.681 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 18448 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 06:15:26.705 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 06:15:26.707 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 06:15:27.935 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.leadexchange.LeadExchangeApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'authController' for bean class [com.leadexchange.controller.auth.AuthController] conflicts with existing, non-compatible bean definition of same name and class [com.leadexchange.controller.AuthController]
2025-08-06 06:15:28.460 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 06:15:28.539 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.leadexchange.LeadExchangeApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'authController' for bean class [com.leadexchange.controller.auth.AuthController] conflicts with existing, non-compatible bean definition of same name and class [com.leadexchange.controller.AuthController]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:188)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:756)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:572)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'authController' for bean class [com.leadexchange.controller.auth.AuthController] conflicts with existing, non-compatible bean definition of same name and class [com.leadexchange.controller.AuthController]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:349)
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:287)
	at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128)
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:295)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:206)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:174)
	... 13 common frames omitted
2025-08-06 06:56:24.991 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 15760 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 06:56:24.998 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 06:56:24.998 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 06:56:25.628 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.leadexchange.LeadExchangeApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'authController' for bean class [com.leadexchange.controller.auth.AuthController] conflicts with existing, non-compatible bean definition of same name and class [com.leadexchange.controller.AuthController]
2025-08-06 06:56:26.015 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 06:56:26.083 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.leadexchange.LeadExchangeApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'authController' for bean class [com.leadexchange.controller.auth.AuthController] conflicts with existing, non-compatible bean definition of same name and class [com.leadexchange.controller.AuthController]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:188)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:756)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:572)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'authController' for bean class [com.leadexchange.controller.auth.AuthController] conflicts with existing, non-compatible bean definition of same name and class [com.leadexchange.controller.AuthController]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:349)
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:287)
	at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128)
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:295)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:206)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:174)
	... 13 common frames omitted
2025-08-06 06:57:10.483 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 11944 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 06:57:10.489 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 06:57:10.490 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 06:57:11.160 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.leadexchange.LeadExchangeApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'authController' for bean class [com.leadexchange.controller.auth.AuthController] conflicts with existing, non-compatible bean definition of same name and class [com.leadexchange.controller.AuthController]
2025-08-06 06:57:11.630 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 06:57:11.685 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.leadexchange.LeadExchangeApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'authController' for bean class [com.leadexchange.controller.auth.AuthController] conflicts with existing, non-compatible bean definition of same name and class [com.leadexchange.controller.AuthController]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:188)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:756)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:572)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'authController' for bean class [com.leadexchange.controller.auth.AuthController] conflicts with existing, non-compatible bean definition of same name and class [com.leadexchange.controller.AuthController]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:349)
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:287)
	at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128)
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:295)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:206)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:174)
	... 13 common frames omitted
2025-08-06 06:58:03.022 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 4640 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 06:58:03.027 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 06:58:03.031 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 06:58:03.610 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.leadexchange.LeadExchangeApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'authController' for bean class [com.leadexchange.controller.auth.AuthController] conflicts with existing, non-compatible bean definition of same name and class [com.leadexchange.controller.AuthController]
2025-08-06 06:58:03.932 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 06:58:03.979 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.leadexchange.LeadExchangeApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'authController' for bean class [com.leadexchange.controller.auth.AuthController] conflicts with existing, non-compatible bean definition of same name and class [com.leadexchange.controller.AuthController]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:188)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:756)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:572)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'authController' for bean class [com.leadexchange.controller.auth.AuthController] conflicts with existing, non-compatible bean definition of same name and class [com.leadexchange.controller.AuthController]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:349)
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:287)
	at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128)
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:295)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:206)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:174)
	... 13 common frames omitted
2025-08-06 06:58:56.722 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 15048 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 06:58:56.727 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 06:58:56.732 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 06:58:58.988 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 06:58:59.005 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 06:58:59.122 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 0 JPA repository interfaces.
2025-08-06 06:59:00.157 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 06:59:00.159 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-08-06 06:59:00.597 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 436 ms. Found 1 Elasticsearch repository interfaces.
2025-08-06 06:59:00.601 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 06:59:00.608 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 06:59:00.649 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 42 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 06:59:00.684 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 06:59:00.687 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-06 06:59:00.736 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.elasticsearch.LeadSearchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 06:59:00.741 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2025-08-06 06:59:02.607 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 06:59:02.631 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 06:59:02.632 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 06:59:02.926 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 06:59:02.926 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 6037 ms
2025-08-06 06:59:03.498 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 06:59:03.679 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 06:59:03.808 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 06:59:04.117 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 06:59:04.337 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 06:59:05.858 [main] ERROR com.zaxxer.hikari.pool.HikariPool - DatebookHikariCP - Exception during pool initialization.
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:446)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:272)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)
	at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:295)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:252)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:173)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
2025-08-06 06:59:05.858 [main] WARN  o.h.e.jdbc.env.internal.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:446)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:272)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)
	at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:295)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:252)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:173)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
2025-08-06 06:59:05.898 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-08-06 06:59:07.476 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 06:59:08.508 [main] ERROR com.zaxxer.hikari.pool.HikariPool - DatebookHikariCP - Exception during pool initialization.
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:446)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:44)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:70)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.processTableResultSet(InformationExtractorJdbcDatabaseMetaDataImpl.java:64)
	at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.getTables(AbstractInformationExtractorImpl.java:565)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:122)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:68)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:220)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
2025-08-06 06:59:08.512 [main] WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Error: 1045, SQLState: 28000
2025-08-06 06:59:08.513 [main] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - Access denied for user 'root'@'localhost' (using password: YES)
2025-08-06 06:59:08.525 [main] ERROR o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution
2025-08-06 06:59:08.527 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution
2025-08-06 06:59:08.534 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 06:59:08.562 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 06:59:08.608 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
Caused by: org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:71)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:70)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.processTableResultSet(InformationExtractorJdbcDatabaseMetaDataImpl.java:64)
	at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.getTables(AbstractInformationExtractorImpl.java:565)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:122)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:68)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:220)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
Caused by: java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:446)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:44)
	... 36 common frames omitted
2025-08-06 06:59:59.265 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 2684 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 06:59:59.270 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 06:59:59.272 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 07:00:01.211 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:00:01.216 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 07:00:01.256 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 0 JPA repository interfaces.
2025-08-06 07:00:02.283 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:00:02.283 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-08-06 07:00:02.631 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 342 ms. Found 1 Elasticsearch repository interfaces.
2025-08-06 07:00:02.656 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:00:02.659 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 07:00:02.705 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 45 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 07:00:02.734 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:00:02.738 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-06 07:00:02.784 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.elasticsearch.LeadSearchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 07:00:02.785 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-08-06 07:00:04.331 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 07:00:04.362 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 07:00:04.364 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 07:00:04.609 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 07:00:04.609 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5168 ms
2025-08-06 07:00:05.120 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 07:00:05.269 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 07:00:05.386 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 07:00:05.697 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 07:00:05.898 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 07:00:07.263 [main] ERROR com.zaxxer.hikari.pool.HikariPool - DatebookHikariCP - Exception during pool initialization.
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:446)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:272)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)
	at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:295)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:252)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:173)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
2025-08-06 07:00:07.267 [main] WARN  o.h.e.jdbc.env.internal.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:446)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:272)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)
	at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:295)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:252)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:173)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
2025-08-06 07:00:07.308 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-08-06 07:00:09.217 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       drop 
       foreign key FKegdk29eiy7mdtefy5c7eirr6e
2025-08-06 07:00:09.217 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 07:00:10.243 [main] ERROR com.zaxxer.hikari.pool.HikariPool - DatebookHikariCP - Exception during pool initialization.
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:446)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:44)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.jdbcStatement(GenerationTargetToDatabase.java:77)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:53)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:387)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:371)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:341)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:235)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:128)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:157)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
2025-08-06 07:00:10.248 [main] WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Error: 1045, SQLState: 28000
2025-08-06 07:00:10.249 [main] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - Access denied for user 'root'@'localhost' (using password: YES)
2025-08-06 07:00:10.260 [main] ERROR o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution
2025-08-06 07:00:10.262 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution
2025-08-06 07:00:10.269 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 07:00:10.307 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 07:00:10.377 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
Caused by: org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:71)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.jdbcStatement(GenerationTargetToDatabase.java:77)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:53)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:387)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:371)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:341)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:235)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:128)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:157)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
Caused by: java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:446)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:44)
	... 37 common frames omitted
2025-08-06 07:00:48.766 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 15324 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 07:00:48.772 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 07:00:48.772 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 07:00:50.730 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:00:50.730 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 07:00:50.759 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 JPA repository interfaces.
2025-08-06 07:00:51.492 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:00:51.493 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-08-06 07:00:51.752 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 258 ms. Found 1 Elasticsearch repository interfaces.
2025-08-06 07:00:51.761 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:00:51.761 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 07:00:51.805 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 07:00:51.829 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:00:51.831 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-06 07:00:51.870 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.elasticsearch.LeadSearchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 07:00:51.870 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2025-08-06 07:00:53.625 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 07:00:53.650 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 07:00:53.651 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 07:00:53.901 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 07:00:53.901 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4974 ms
2025-08-06 07:00:54.145 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 07:00:54.567 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 07:00:54.589 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-08-06 07:00:54.784 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 07:00:54.932 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 07:00:55.030 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 07:00:55.301 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 07:00:55.487 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-08-06 07:00:57.086 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       drop 
       foreign key FKegdk29eiy7mdtefy5c7eirr6e
2025-08-06 07:00:57.101 [main] WARN  o.h.t.schema.internal.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table role_permissions 
       drop 
       foreign key FKegdk29eiy7mdtefy5c7eirr6e" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table role_permissions 
       drop 
       foreign key FKegdk29eiy7mdtefy5c7eirr6e" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:387)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:371)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:341)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:235)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:128)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:157)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "ROLE_PERMISSIONS" not found (this database is empty); SQL statement:

    alter table role_permissions 
       drop 
       foreign key FKegdk29eiy7mdtefy5c7eirr6e [42104-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8385)
	at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8379)
	at org.h2.command.Parser.tableIfTableExists(Parser.java:8908)
	at org.h2.command.Parser.parseAlterTableDrop(Parser.java:8706)
	at org.h2.command.Parser.parseAlterTable(Parser.java:8489)
	at org.h2.command.Parser.parseAlter(Parser.java:7548)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:689)
	at org.h2.command.Parser.parse(Parser.java:661)
	at org.h2.command.Parser.prepareCommand(Parser.java:569)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 35 common frames omitted
2025-08-06 07:00:57.101 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       drop 
       foreign key FKn5fotdgk8d1xvo8nav9uv3muc
2025-08-06 07:00:57.101 [main] WARN  o.h.t.schema.internal.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table role_permissions 
       drop 
       foreign key FKn5fotdgk8d1xvo8nav9uv3muc" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table role_permissions 
       drop 
       foreign key FKn5fotdgk8d1xvo8nav9uv3muc" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:387)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:371)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:341)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:235)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:128)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:157)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "ROLE_PERMISSIONS" not found (this database is empty); SQL statement:

    alter table role_permissions 
       drop 
       foreign key FKn5fotdgk8d1xvo8nav9uv3muc [42104-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8385)
	at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8379)
	at org.h2.command.Parser.tableIfTableExists(Parser.java:8908)
	at org.h2.command.Parser.parseAlterTableDrop(Parser.java:8706)
	at org.h2.command.Parser.parseAlterTable(Parser.java:8489)
	at org.h2.command.Parser.parseAlter(Parser.java:7548)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:689)
	at org.h2.command.Parser.parse(Parser.java:661)
	at org.h2.command.Parser.prepareCommand(Parser.java:569)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 35 common frames omitted
2025-08-06 07:00:57.108 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       drop 
       foreign key FKh8ciramu9cc9q3qcqiv4ue8a6
2025-08-06 07:00:57.111 [main] WARN  o.h.t.schema.internal.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table user_roles 
       drop 
       foreign key FKh8ciramu9cc9q3qcqiv4ue8a6" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table user_roles 
       drop 
       foreign key FKh8ciramu9cc9q3qcqiv4ue8a6" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:387)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:371)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:341)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:235)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:128)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:157)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "USER_ROLES" not found (this database is empty); SQL statement:

    alter table user_roles 
       drop 
       foreign key FKh8ciramu9cc9q3qcqiv4ue8a6 [42104-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8385)
	at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8379)
	at org.h2.command.Parser.tableIfTableExists(Parser.java:8908)
	at org.h2.command.Parser.parseAlterTableDrop(Parser.java:8706)
	at org.h2.command.Parser.parseAlterTable(Parser.java:8489)
	at org.h2.command.Parser.parseAlter(Parser.java:7548)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:689)
	at org.h2.command.Parser.parse(Parser.java:661)
	at org.h2.command.Parser.prepareCommand(Parser.java:569)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 35 common frames omitted
2025-08-06 07:00:57.114 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       drop 
       foreign key FKhfh9dx7w3ubf1co1vdev94g3f
2025-08-06 07:00:57.117 [main] WARN  o.h.t.schema.internal.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table user_roles 
       drop 
       foreign key FKhfh9dx7w3ubf1co1vdev94g3f" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table user_roles 
       drop 
       foreign key FKhfh9dx7w3ubf1co1vdev94g3f" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:387)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:371)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:341)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:235)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:128)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:157)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "USER_ROLES" not found (this database is empty); SQL statement:

    alter table user_roles 
       drop 
       foreign key FKhfh9dx7w3ubf1co1vdev94g3f [42104-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8385)
	at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8379)
	at org.h2.command.Parser.tableIfTableExists(Parser.java:8908)
	at org.h2.command.Parser.parseAlterTableDrop(Parser.java:8706)
	at org.h2.command.Parser.parseAlterTable(Parser.java:8489)
	at org.h2.command.Parser.parseAlter(Parser.java:7548)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:689)
	at org.h2.command.Parser.parse(Parser.java:661)
	at org.h2.command.Parser.prepareCommand(Parser.java:569)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 35 common frames omitted
2025-08-06 07:00:57.120 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads
2025-08-06 07:00:57.125 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions
2025-08-06 07:00:57.126 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions
2025-08-06 07:00:57.128 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles
2025-08-06 07:00:57.129 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles
2025-08-06 07:00:57.130 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users
2025-08-06 07:00:57.136 [main] DEBUG org.hibernate.SQL - 
    
    create table leads (
       id bigint not null auto_increment,
        create_by bigint,
        create_time datetime(6) not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time datetime(6) not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time datetime(6),
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        industry_direction varchar(100),
        intended_area decimal(10,2),
        intended_region varchar(100),
        investment_amount decimal(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time datetime(6),
        rating varchar(10),
        rating_score integer,
        registered_capital decimal(15,2),
        status varchar(20) not null,
        primary key (id)
    ) engine=InnoDB
2025-08-06 07:00:57.150 [main] WARN  o.h.t.schema.internal.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table leads (
       id bigint not null auto_increment,
        create_by bigint,
        create_time datetime(6) not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time datetime(6) not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time datetime(6),
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        industry_direction varchar(100),
        intended_area decimal(10,2),
        intended_region varchar(100),
        investment_amount decimal(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time datetime(6),
        rating varchar(10),
        rating_score integer,
        registered_capital decimal(15,2),
        status varchar(20) not null,
        primary key (id)
    ) engine=InnoDB" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table leads (
       id bigint not null auto_increment,
        create_by bigint,
        create_time datetime(6) not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time datetime(6) not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time datetime(6),
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        industry_direction varchar(100),
        intended_area decimal(10,2),
        intended_region varchar(100),
        investment_amount decimal(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time datetime(6),
        rating varchar(10),
        rating_score integer,
        registered_capital decimal(15,2),
        status varchar(20) not null,
        primary key (id)
    ) engine=InnoDB" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:458)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:442)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:325)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:169)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:138)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:124)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:168)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "\000d\000a    create table leads (\000d\000a       id bigint not null auto_increment,\000d\000a        create_by bigint,\000d\000a        create_time datetime(6) not null,\000d\000a        deleted integer not null,\000d\000a        remark varchar(500),\000d\000a        update_by bigint,\000d\000a        update_time datetime(6) not null,\000d\000a        version integer not null,\000d\000a        audit_remark varchar(500),\000d\000a        audit_status varchar(20) not null,\000d\000a        audit_time datetime(6),\000d\000a        auditor_id bigint,\000d\000a        company_name varchar(200) not null,\000d\000a        company_type varchar(50) not null,\000d\000a        contact_person varchar(100) not null,\000d\000a        contact_phone varchar(20) not null,\000d\000a        description TEXT,\000d\000a        industry_direction varchar(100),\000d\000a        intended_area decimal(10,2),\000d\000a        intended_region varchar(100),\000d\000a        investment_amount decimal(15,2),\000d\000a        office_type varchar(50) not null,\000d\000a        owner_id bigint not null,\000d\000a        published_time datetime(6),\000d\000a        rating varchar(10),\000d\000a        rating_score integer,\000d\000a        registered_capital decimal(15,2),\000d\000a        status varchar(20) not null,\000d\000a        primary key (id)\000d\000a    ) engine[*]=InnoDB"; expected "identifier"; SQL statement:

    create table leads (
       id bigint not null auto_increment,
        create_by bigint,
        create_time datetime(6) not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time datetime(6) not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time datetime(6),
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        industry_direction varchar(100),
        intended_area decimal(10,2),
        intended_region varchar(100),
        investment_amount decimal(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time datetime(6),
        rating varchar(10),
        rating_score integer,
        registered_capital decimal(15,2),
        status varchar(20) not null,
        primary key (id)
    ) engine=InnoDB [42001-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.getSyntaxError(DbException.java:261)
	at org.h2.command.Parser.readIdentifier(Parser.java:5656)
	at org.h2.command.Parser.parseCreateTable(Parser.java:9279)
	at org.h2.command.Parser.parseCreate(Parser.java:6784)
	at org.h2.command.Parser.parsePrepared(Parser.java:763)
	at org.h2.command.Parser.parse(Parser.java:689)
	at org.h2.command.Parser.parse(Parser.java:661)
	at org.h2.command.Parser.prepareCommand(Parser.java:569)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 34 common frames omitted
2025-08-06 07:00:57.158 [main] DEBUG org.hibernate.SQL - 
    
    create table permissions (
       id bigint not null auto_increment,
        create_by bigint,
        create_time datetime(6) not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time datetime(6) not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    ) engine=InnoDB
2025-08-06 07:00:57.162 [main] WARN  o.h.t.schema.internal.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table permissions (
       id bigint not null auto_increment,
        create_by bigint,
        create_time datetime(6) not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time datetime(6) not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    ) engine=InnoDB" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table permissions (
       id bigint not null auto_increment,
        create_by bigint,
        create_time datetime(6) not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time datetime(6) not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    ) engine=InnoDB" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:458)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:442)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:325)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:169)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:138)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:124)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:168)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "\000d\000a    create table permissions (\000d\000a       id bigint not null auto_increment,\000d\000a        create_by bigint,\000d\000a        create_time datetime(6) not null,\000d\000a        deleted integer not null,\000d\000a        remark varchar(500),\000d\000a        update_by bigint,\000d\000a        update_time datetime(6) not null,\000d\000a        version integer not null,\000d\000a        component varchar(200),\000d\000a        description varchar(200),\000d\000a        icon varchar(100),\000d\000a        method varchar(10),\000d\000a        parent_id bigint,\000d\000a        path varchar(200),\000d\000a        permission_code varchar(100) not null,\000d\000a        permission_name varchar(100) not null,\000d\000a        permission_type varchar(20) not null,\000d\000a        sort_order integer not null,\000d\000a        status integer not null,\000d\000a        url varchar(200),\000d\000a        primary key (id)\000d\000a    ) engine[*]=InnoDB"; expected "identifier"; SQL statement:

    create table permissions (
       id bigint not null auto_increment,
        create_by bigint,
        create_time datetime(6) not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time datetime(6) not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    ) engine=InnoDB [42001-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.getSyntaxError(DbException.java:261)
	at org.h2.command.Parser.readIdentifier(Parser.java:5656)
	at org.h2.command.Parser.parseCreateTable(Parser.java:9279)
	at org.h2.command.Parser.parseCreate(Parser.java:6784)
	at org.h2.command.Parser.parsePrepared(Parser.java:763)
	at org.h2.command.Parser.parse(Parser.java:689)
	at org.h2.command.Parser.parse(Parser.java:661)
	at org.h2.command.Parser.prepareCommand(Parser.java:569)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 34 common frames omitted
2025-08-06 07:00:57.165 [main] DEBUG org.hibernate.SQL - 
    
    create table role_permissions (
       id bigint not null auto_increment,
        create_by bigint,
        create_time datetime(6) not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    ) engine=InnoDB
2025-08-06 07:00:57.169 [main] WARN  o.h.t.schema.internal.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table role_permissions (
       id bigint not null auto_increment,
        create_by bigint,
        create_time datetime(6) not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    ) engine=InnoDB" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table role_permissions (
       id bigint not null auto_increment,
        create_by bigint,
        create_time datetime(6) not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    ) engine=InnoDB" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:458)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:442)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:325)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:169)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:138)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:124)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:168)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "\000d\000a    create table role_permissions (\000d\000a       id bigint not null auto_increment,\000d\000a        create_by bigint,\000d\000a        create_time datetime(6) not null,\000d\000a        permission_id bigint not null,\000d\000a        role_id bigint not null,\000d\000a        primary key (id)\000d\000a    ) engine[*]=InnoDB"; expected "identifier"; SQL statement:

    create table role_permissions (
       id bigint not null auto_increment,
        create_by bigint,
        create_time datetime(6) not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    ) engine=InnoDB [42001-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.getSyntaxError(DbException.java:261)
	at org.h2.command.Parser.readIdentifier(Parser.java:5656)
	at org.h2.command.Parser.parseCreateTable(Parser.java:9279)
	at org.h2.command.Parser.parseCreate(Parser.java:6784)
	at org.h2.command.Parser.parsePrepared(Parser.java:763)
	at org.h2.command.Parser.parse(Parser.java:689)
	at org.h2.command.Parser.parse(Parser.java:661)
	at org.h2.command.Parser.prepareCommand(Parser.java:569)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 34 common frames omitted
2025-08-06 07:00:57.172 [main] DEBUG org.hibernate.SQL - 
    
    create table roles (
       id bigint not null auto_increment,
        create_by bigint,
        create_time datetime(6) not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time datetime(6) not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    ) engine=InnoDB
2025-08-06 07:00:57.176 [main] WARN  o.h.t.schema.internal.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table roles (
       id bigint not null auto_increment,
        create_by bigint,
        create_time datetime(6) not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time datetime(6) not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    ) engine=InnoDB" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table roles (
       id bigint not null auto_increment,
        create_by bigint,
        create_time datetime(6) not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time datetime(6) not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    ) engine=InnoDB" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:458)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:442)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:325)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:169)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:138)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:124)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:168)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "\000d\000a    create table roles (\000d\000a       id bigint not null auto_increment,\000d\000a        create_by bigint,\000d\000a        create_time datetime(6) not null,\000d\000a        deleted integer not null,\000d\000a        remark varchar(500),\000d\000a        update_by bigint,\000d\000a        update_time datetime(6) not null,\000d\000a        version integer not null,\000d\000a        description varchar(200),\000d\000a        role_code varchar(50) not null,\000d\000a        role_name varchar(50) not null,\000d\000a        sort_order integer not null,\000d\000a        status integer not null,\000d\000a        primary key (id)\000d\000a    ) engine[*]=InnoDB"; expected "identifier"; SQL statement:

    create table roles (
       id bigint not null auto_increment,
        create_by bigint,
        create_time datetime(6) not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time datetime(6) not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    ) engine=InnoDB [42001-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.getSyntaxError(DbException.java:261)
	at org.h2.command.Parser.readIdentifier(Parser.java:5656)
	at org.h2.command.Parser.parseCreateTable(Parser.java:9279)
	at org.h2.command.Parser.parseCreate(Parser.java:6784)
	at org.h2.command.Parser.parsePrepared(Parser.java:763)
	at org.h2.command.Parser.parse(Parser.java:689)
	at org.h2.command.Parser.parse(Parser.java:661)
	at org.h2.command.Parser.prepareCommand(Parser.java:569)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 34 common frames omitted
2025-08-06 07:00:57.178 [main] DEBUG org.hibernate.SQL - 
    
    create table user_roles (
       id bigint not null auto_increment,
        create_by bigint,
        create_time datetime(6) not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    ) engine=InnoDB
2025-08-06 07:00:57.181 [main] WARN  o.h.t.schema.internal.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table user_roles (
       id bigint not null auto_increment,
        create_by bigint,
        create_time datetime(6) not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    ) engine=InnoDB" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table user_roles (
       id bigint not null auto_increment,
        create_by bigint,
        create_time datetime(6) not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    ) engine=InnoDB" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:458)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:442)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:325)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:169)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:138)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:124)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:168)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "\000d\000a    create table user_roles (\000d\000a       id bigint not null auto_increment,\000d\000a        create_by bigint,\000d\000a        create_time datetime(6) not null,\000d\000a        role_id bigint not null,\000d\000a        user_id bigint not null,\000d\000a        primary key (id)\000d\000a    ) engine[*]=InnoDB"; expected "identifier"; SQL statement:

    create table user_roles (
       id bigint not null auto_increment,
        create_by bigint,
        create_time datetime(6) not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    ) engine=InnoDB [42001-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.getSyntaxError(DbException.java:261)
	at org.h2.command.Parser.readIdentifier(Parser.java:5656)
	at org.h2.command.Parser.parseCreateTable(Parser.java:9279)
	at org.h2.command.Parser.parseCreate(Parser.java:6784)
	at org.h2.command.Parser.parsePrepared(Parser.java:763)
	at org.h2.command.Parser.parse(Parser.java:689)
	at org.h2.command.Parser.parse(Parser.java:661)
	at org.h2.command.Parser.prepareCommand(Parser.java:569)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 34 common frames omitted
2025-08-06 07:00:57.184 [main] DEBUG org.hibernate.SQL - 
    
    create table users (
       id bigint not null auto_increment,
        create_by bigint,
        create_time datetime(6) not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time datetime(6) not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time datetime(6),
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    ) engine=InnoDB
2025-08-06 07:00:57.188 [main] WARN  o.h.t.schema.internal.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table users (
       id bigint not null auto_increment,
        create_by bigint,
        create_time datetime(6) not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time datetime(6) not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time datetime(6),
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    ) engine=InnoDB" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table users (
       id bigint not null auto_increment,
        create_by bigint,
        create_time datetime(6) not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time datetime(6) not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time datetime(6),
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    ) engine=InnoDB" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:458)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:442)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:325)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:169)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:138)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:124)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:168)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "\000d\000a    create table users (\000d\000a       id bigint not null auto_increment,\000d\000a        create_by bigint,\000d\000a        create_time datetime(6) not null,\000d\000a        deleted integer not null,\000d\000a        remark varchar(500),\000d\000a        update_by bigint,\000d\000a        update_time datetime(6) not null,\000d\000a        version integer not null,\000d\000a        avatar varchar(500),\000d\000a        business_license varchar(100),\000d\000a        company_name varchar(200),\000d\000a        company_size varchar(20),\000d\000a        company_type varchar(50),\000d\000a        credit_code varchar(50),\000d\000a        email varchar(255),\000d\000a        industry varchar(100),\000d\000a        last_login_ip varchar(50),\000d\000a        last_login_time datetime(6),\000d\000a        location varchar(100),\000d\000a        login_count integer not null,\000d\000a        password varchar(255) not null,\000d\000a        phone varchar(255) not null,\000d\000a        position varchar(100),\000d\000a        real_name varchar(100),\000d\000a        region_code varchar(20),\000d\000a        region_name varchar(100),\000d\000a        status integer not null,\000d\000a        username varchar(50) not null,\000d\000a        verified integer not null,\000d\000a        primary key (id)\000d\000a    ) engine[*]=InnoDB"; expected "identifier"; SQL statement:

    create table users (
       id bigint not null auto_increment,
        create_by bigint,
        create_time datetime(6) not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time datetime(6) not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time datetime(6),
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    ) engine=InnoDB [42001-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.getSyntaxError(DbException.java:261)
	at org.h2.command.Parser.readIdentifier(Parser.java:5656)
	at org.h2.command.Parser.parseCreateTable(Parser.java:9279)
	at org.h2.command.Parser.parseCreate(Parser.java:6784)
	at org.h2.command.Parser.parsePrepared(Parser.java:763)
	at org.h2.command.Parser.parse(Parser.java:689)
	at org.h2.command.Parser.parse(Parser.java:661)
	at org.h2.command.Parser.prepareCommand(Parser.java:569)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 34 common frames omitted
2025-08-06 07:00:57.191 [main] DEBUG org.hibernate.SQL - 
    
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)
2025-08-06 07:00:57.194 [main] WARN  o.h.t.schema.internal.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:458)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:442)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:361)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:169)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:138)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:124)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:168)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "PERMISSIONS" not found; SQL statement:

    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission [42102-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:43)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 34 common frames omitted
2025-08-06 07:00:57.196 [main] DEBUG org.hibernate.SQL - 
    
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)
2025-08-06 07:00:57.199 [main] WARN  o.h.t.schema.internal.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:458)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:442)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:361)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:169)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:138)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:124)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:168)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "ROLES" not found; SQL statement:

    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role [42102-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:43)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 34 common frames omitted
2025-08-06 07:00:57.201 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-08-06 07:00:57.204 [main] WARN  o.h.t.schema.internal.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:458)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:442)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:361)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:169)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:138)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:124)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:168)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "USERS" not found; SQL statement:

    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique ( [42102-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:43)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 34 common frames omitted
2025-08-06 07:00:57.206 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)
2025-08-06 07:00:57.208 [main] WARN  o.h.t.schema.internal.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:458)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:442)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:361)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:169)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:138)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:124)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:168)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "USERS" not found; SQL statement:

    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique ( [42102-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:43)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 34 common frames omitted
2025-08-06 07:00:57.210 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-08-06 07:00:57.213 [main] WARN  o.h.t.schema.internal.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:458)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:442)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:361)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:169)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:138)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:124)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:168)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "USERS" not found; SQL statement:

    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (use [42102-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:43)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 34 common frames omitted
2025-08-06 07:00:57.215 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions (id)
2025-08-06 07:00:57.218 [main] WARN  o.h.t.schema.internal.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions (id)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:458)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:442)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:389)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:169)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:138)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:124)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:168)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "ROLE_PERMISSIONS" not found; SQL statement:

    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permission [42102-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:43)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 34 common frames omitted
2025-08-06 07:00:57.220 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles (id)
2025-08-06 07:00:57.223 [main] WARN  o.h.t.schema.internal.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles (id)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:458)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:442)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:389)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:169)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:138)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:124)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:168)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "ROLE_PERMISSIONS" not found; SQL statement:

    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references role [42102-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:43)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 34 common frames omitted
2025-08-06 07:00:57.225 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles (id)
2025-08-06 07:00:57.226 [main] WARN  o.h.t.schema.internal.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles (id)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:458)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:442)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:389)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:169)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:138)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:124)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:168)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "USER_ROLES" not found; SQL statement:

    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references role [42102-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:43)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 34 common frames omitted
2025-08-06 07:00:57.229 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users (id)
2025-08-06 07:00:57.232 [main] WARN  o.h.t.schema.internal.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users (id)" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users (id)" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:458)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:442)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:389)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:169)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:138)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:124)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:168)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "USER_ROLES" not found; SQL statement:

    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references user [42102-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:43)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 34 common frames omitted
2025-08-06 07:00:57.239 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-06 07:00:57.271 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 07:00:58.451 [main] INFO  com.leadexchange.config.RedisConfig - RedisTemplate配置完成
2025-08-06 07:00:58.775 [main] INFO  com.leadexchange.config.MybatisPlusConfig - MyBatis Plus 拦截器配置完成
2025-08-06 07:00:58.963 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authController' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\controller\AuthController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\service\impl\UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\repository\user\UserRepository.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
2025-08-06 07:00:58.998 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 07:00:58.999 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2025-08-06 07:00:59.001 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       drop 
       foreign key FKegdk29eiy7mdtefy5c7eirr6e
2025-08-06 07:00:59.002 [main] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: 
    alter table role_permissions 
       drop 
       foreign key FKegdk29eiy7mdtefy5c7eirr6e
2025-08-06 07:00:59.003 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       drop 
       foreign key FKn5fotdgk8d1xvo8nav9uv3muc
2025-08-06 07:00:59.004 [main] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: 
    alter table role_permissions 
       drop 
       foreign key FKn5fotdgk8d1xvo8nav9uv3muc
2025-08-06 07:00:59.005 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       drop 
       foreign key FKh8ciramu9cc9q3qcqiv4ue8a6
2025-08-06 07:00:59.006 [main] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: 
    alter table user_roles 
       drop 
       foreign key FKh8ciramu9cc9q3qcqiv4ue8a6
2025-08-06 07:00:59.007 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       drop 
       foreign key FKhfh9dx7w3ubf1co1vdev94g3f
2025-08-06 07:00:59.007 [main] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: 
    alter table user_roles 
       drop 
       foreign key FKhfh9dx7w3ubf1co1vdev94g3f
2025-08-06 07:00:59.008 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads
2025-08-06 07:00:59.009 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions
2025-08-06 07:00:59.010 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions
2025-08-06 07:00:59.011 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles
2025-08-06 07:00:59.012 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles
2025-08-06 07:00:59.013 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users
2025-08-06 07:00:59.019 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 07:00:59.023 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 07:00:59.027 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 07:00:59.051 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 07:00:59.095 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authController' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\controller\AuthController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\service\impl\UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\repository\user\UserRepository.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\service\impl\UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\repository\user\UserRepository.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\repository\user\UserRepository.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 33 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:536)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)
	... 47 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:633)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 57 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648)
	... 71 common frames omitted
Caused by: java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.buildSqlSessionFactory(MybatisSqlSessionFactoryBean.java:575)
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.afterPropertiesSet(MybatisSqlSessionFactoryBean.java:444)
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.getObject(MybatisSqlSessionFactoryBean.java:608)
	at com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration.sqlSessionFactory(MybatisPlusAutoConfiguration.java:224)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 72 common frames omitted
Caused by: org.apache.ibatis.builder.BuilderException: Error creating document instance.  Cause: org.xml.sax.SAXParseException; lineNumber: 119; columnNumber: 33; 元素内容必须由格式正确的字符数据或标记组成。
	at org.apache.ibatis.parsing.XPathParser.createDocument(XPathParser.java:263)
	at org.apache.ibatis.parsing.XPathParser.<init>(XPathParser.java:127)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.<init>(XMLMapperBuilder.java:81)
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.buildSqlSessionFactory(MybatisSqlSessionFactoryBean.java:572)
	... 78 common frames omitted
Caused by: org.xml.sax.SAXParseException: 元素内容必须由格式正确的字符数据或标记组成。
	at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:204)
	at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:178)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:400)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1465)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.startOfMarkup(XMLDocumentFragmentScannerImpl.java:2598)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2688)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:635)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:551)
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:890)
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:826)
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:134)
	at java.xml/com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:247)
	at java.xml/com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:342)
	at org.apache.ibatis.parsing.XPathParser.createDocument(XPathParser.java:261)
	... 81 common frames omitted
2025-08-06 07:01:26.372 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 25084 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 07:01:26.381 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 07:01:26.381 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 07:01:28.159 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:01:28.161 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 07:01:28.186 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 JPA repository interfaces.
2025-08-06 07:01:29.024 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:01:29.029 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-08-06 07:01:29.270 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 241 ms. Found 1 Elasticsearch repository interfaces.
2025-08-06 07:01:29.290 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:01:29.293 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 07:01:29.327 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 07:01:29.352 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:01:29.355 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-06 07:01:29.389 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.elasticsearch.LeadSearchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 07:01:29.389 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2025-08-06 07:01:31.108 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 07:01:31.138 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 07:01:31.140 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 07:01:31.427 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 07:01:31.427 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4895 ms
2025-08-06 07:01:31.710 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 07:01:32.126 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 07:01:32.148 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-08-06 07:01:32.359 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 07:01:32.532 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 07:01:32.632 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 07:01:32.896 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 07:01:33.106 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 07:01:34.679 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 07:01:34.685 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 07:01:34.688 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 07:01:34.690 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 07:01:34.691 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 07:01:34.695 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 07:01:34.711 [main] DEBUG org.hibernate.SQL - 
    
    create table leads (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time timestamp,
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        industry_direction varchar(100),
        intended_area numeric(10,2),
        intended_region varchar(100),
        investment_amount numeric(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time timestamp,
        rating varchar(10),
        rating_score integer,
        registered_capital numeric(15,2),
        status varchar(20) not null,
        primary key (id)
    )
2025-08-06 07:01:34.743 [main] DEBUG org.hibernate.SQL - 
    
    create table permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    )
2025-08-06 07:01:34.755 [main] DEBUG org.hibernate.SQL - 
    
    create table role_permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    )
2025-08-06 07:01:34.759 [main] DEBUG org.hibernate.SQL - 
    
    create table roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    )
2025-08-06 07:01:34.764 [main] DEBUG org.hibernate.SQL - 
    
    create table user_roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-08-06 07:01:34.768 [main] DEBUG org.hibernate.SQL - 
    
    create table users (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time timestamp,
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    )
2025-08-06 07:01:34.773 [main] DEBUG org.hibernate.SQL - 
    
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)
2025-08-06 07:01:34.780 [main] DEBUG org.hibernate.SQL - 
    
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)
2025-08-06 07:01:34.782 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-08-06 07:01:34.784 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)
2025-08-06 07:01:34.785 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-08-06 07:01:34.788 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-08-06 07:01:34.801 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-08-06 07:01:34.805 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-06 07:01:34.808 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-06 07:01:34.816 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-06 07:01:34.842 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 07:01:35.668 [main] INFO  com.leadexchange.config.RedisConfig - RedisTemplate配置完成
2025-08-06 07:01:35.896 [main] INFO  com.leadexchange.config.MybatisPlusConfig - MyBatis Plus 拦截器配置完成
2025-08-06 07:01:36.036 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authController' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\controller\AuthController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\service\impl\UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\repository\user\UserRepository.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
2025-08-06 07:01:36.070 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 07:01:36.072 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2025-08-06 07:01:36.074 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 07:01:36.078 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 07:01:36.081 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 07:01:36.084 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 07:01:36.088 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 07:01:36.092 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 07:01:36.108 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 07:01:36.113 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 07:01:36.120 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 07:01:36.150 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 07:01:36.234 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authController' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\controller\AuthController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\service\impl\UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\repository\user\UserRepository.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\service\impl\UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\repository\user\UserRepository.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\repository\user\UserRepository.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 33 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:536)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)
	... 47 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:633)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 57 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648)
	... 71 common frames omitted
Caused by: java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.buildSqlSessionFactory(MybatisSqlSessionFactoryBean.java:575)
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.afterPropertiesSet(MybatisSqlSessionFactoryBean.java:444)
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.getObject(MybatisSqlSessionFactoryBean.java:608)
	at com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration.sqlSessionFactory(MybatisPlusAutoConfiguration.java:224)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 72 common frames omitted
Caused by: org.apache.ibatis.builder.BuilderException: Error creating document instance.  Cause: org.xml.sax.SAXParseException; lineNumber: 119; columnNumber: 33; 元素内容必须由格式正确的字符数据或标记组成。
	at org.apache.ibatis.parsing.XPathParser.createDocument(XPathParser.java:263)
	at org.apache.ibatis.parsing.XPathParser.<init>(XPathParser.java:127)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.<init>(XMLMapperBuilder.java:81)
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.buildSqlSessionFactory(MybatisSqlSessionFactoryBean.java:572)
	... 78 common frames omitted
Caused by: org.xml.sax.SAXParseException: 元素内容必须由格式正确的字符数据或标记组成。
	at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:204)
	at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:178)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:400)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1465)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.startOfMarkup(XMLDocumentFragmentScannerImpl.java:2598)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2688)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:635)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:551)
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:890)
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:826)
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:134)
	at java.xml/com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:247)
	at java.xml/com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:342)
	at org.apache.ibatis.parsing.XPathParser.createDocument(XPathParser.java:261)
	... 81 common frames omitted
2025-08-06 07:02:53.540 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 11052 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 07:02:53.547 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 07:02:53.551 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 07:02:55.612 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:02:55.612 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 07:02:55.642 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.
2025-08-06 07:02:56.419 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:02:56.419 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-08-06 07:02:56.660 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 239 ms. Found 1 Elasticsearch repository interfaces.
2025-08-06 07:02:56.671 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:02:56.675 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 07:02:56.710 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 07:02:56.732 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:02:56.736 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-06 07:02:56.777 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.elasticsearch.LeadSearchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 07:02:56.778 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-08-06 07:02:58.447 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 07:02:58.473 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 07:02:58.475 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 07:02:58.735 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 07:02:58.735 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5030 ms
2025-08-06 07:02:58.987 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 07:02:59.336 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 07:02:59.356 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-08-06 07:02:59.558 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 07:02:59.707 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 07:02:59.811 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 07:03:00.153 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 07:03:00.434 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 07:03:02.149 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 07:03:02.154 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 07:03:02.159 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 07:03:02.161 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 07:03:02.162 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 07:03:02.163 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 07:03:02.169 [main] DEBUG org.hibernate.SQL - 
    
    create table leads (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time timestamp,
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        industry_direction varchar(100),
        intended_area numeric(10,2),
        intended_region varchar(100),
        investment_amount numeric(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time timestamp,
        rating varchar(10),
        rating_score integer,
        registered_capital numeric(15,2),
        status varchar(20) not null,
        primary key (id)
    )
2025-08-06 07:03:02.197 [main] DEBUG org.hibernate.SQL - 
    
    create table permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    )
2025-08-06 07:03:02.204 [main] DEBUG org.hibernate.SQL - 
    
    create table role_permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    )
2025-08-06 07:03:02.208 [main] DEBUG org.hibernate.SQL - 
    
    create table roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    )
2025-08-06 07:03:02.211 [main] DEBUG org.hibernate.SQL - 
    
    create table user_roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-08-06 07:03:02.214 [main] DEBUG org.hibernate.SQL - 
    
    create table users (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time timestamp,
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    )
2025-08-06 07:03:02.222 [main] DEBUG org.hibernate.SQL - 
    
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)
2025-08-06 07:03:02.227 [main] DEBUG org.hibernate.SQL - 
    
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)
2025-08-06 07:03:02.230 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-08-06 07:03:02.232 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)
2025-08-06 07:03:02.235 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-08-06 07:03:02.238 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-08-06 07:03:02.252 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-08-06 07:03:02.256 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-06 07:03:02.260 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-06 07:03:02.269 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-06 07:03:02.303 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 07:03:03.149 [main] INFO  com.leadexchange.config.RedisConfig - RedisTemplate配置完成
2025-08-06 07:03:03.443 [main] INFO  com.leadexchange.config.MybatisPlusConfig - MyBatis Plus 拦截器配置完成
2025-08-06 07:03:03.551 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authController' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\controller\AuthController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\service\impl\UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\repository\user\UserRepository.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
2025-08-06 07:03:03.581 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 07:03:03.583 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2025-08-06 07:03:03.585 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 07:03:03.589 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 07:03:03.592 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 07:03:03.594 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 07:03:03.597 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 07:03:03.601 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 07:03:03.609 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 07:03:03.614 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 07:03:03.619 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 07:03:03.643 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 07:03:03.697 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authController' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\controller\AuthController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\service\impl\UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\repository\user\UserRepository.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\service\impl\UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\repository\user\UserRepository.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\repository\user\UserRepository.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 33 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:536)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)
	... 47 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:633)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 57 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648)
	... 71 common frames omitted
Caused by: java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.buildSqlSessionFactory(MybatisSqlSessionFactoryBean.java:575)
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.afterPropertiesSet(MybatisSqlSessionFactoryBean.java:444)
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.getObject(MybatisSqlSessionFactoryBean.java:608)
	at com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration.sqlSessionFactory(MybatisPlusAutoConfiguration.java:224)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 72 common frames omitted
Caused by: org.apache.ibatis.builder.BuilderException: Error creating document instance.  Cause: org.xml.sax.SAXParseException; lineNumber: 119; columnNumber: 33; 元素内容必须由格式正确的字符数据或标记组成。
	at org.apache.ibatis.parsing.XPathParser.createDocument(XPathParser.java:263)
	at org.apache.ibatis.parsing.XPathParser.<init>(XPathParser.java:127)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.<init>(XMLMapperBuilder.java:81)
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.buildSqlSessionFactory(MybatisSqlSessionFactoryBean.java:572)
	... 78 common frames omitted
Caused by: org.xml.sax.SAXParseException: 元素内容必须由格式正确的字符数据或标记组成。
	at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:204)
	at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:178)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:400)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1465)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.startOfMarkup(XMLDocumentFragmentScannerImpl.java:2598)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2688)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:635)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:551)
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:890)
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:826)
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:134)
	at java.xml/com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:247)
	at java.xml/com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:342)
	at org.apache.ibatis.parsing.XPathParser.createDocument(XPathParser.java:261)
	... 81 common frames omitted
2025-08-06 07:03:45.221 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 2508 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 07:03:45.226 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 07:03:45.226 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 07:03:47.161 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:03:47.161 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 07:03:47.197 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 JPA repository interfaces.
2025-08-06 07:03:47.976 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:03:47.976 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-08-06 07:03:48.245 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 265 ms. Found 1 Elasticsearch repository interfaces.
2025-08-06 07:03:48.256 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:03:48.256 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 07:03:48.286 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 07:03:48.311 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:03:48.314 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-06 07:03:48.352 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.elasticsearch.LeadSearchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 07:03:48.352 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-08-06 07:03:49.932 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 07:03:49.971 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 07:03:49.973 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 07:03:50.272 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 07:03:50.272 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4899 ms
2025-08-06 07:03:50.528 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 07:03:50.886 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 07:03:50.905 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-08-06 07:03:51.104 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 07:03:51.252 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 07:03:51.351 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 07:03:51.624 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 07:03:51.831 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 07:03:53.213 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 07:03:53.219 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 07:03:53.222 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 07:03:53.229 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 07:03:53.233 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 07:03:53.242 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 07:03:53.253 [main] DEBUG org.hibernate.SQL - 
    
    create table leads (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time timestamp,
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        industry_direction varchar(100),
        intended_area numeric(10,2),
        intended_region varchar(100),
        investment_amount numeric(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time timestamp,
        rating varchar(10),
        rating_score integer,
        registered_capital numeric(15,2),
        status varchar(20) not null,
        primary key (id)
    )
2025-08-06 07:03:53.289 [main] DEBUG org.hibernate.SQL - 
    
    create table permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    )
2025-08-06 07:03:53.294 [main] DEBUG org.hibernate.SQL - 
    
    create table role_permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    )
2025-08-06 07:03:53.301 [main] DEBUG org.hibernate.SQL - 
    
    create table roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    )
2025-08-06 07:03:53.307 [main] DEBUG org.hibernate.SQL - 
    
    create table user_roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-08-06 07:03:53.312 [main] DEBUG org.hibernate.SQL - 
    
    create table users (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time timestamp,
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    )
2025-08-06 07:03:53.317 [main] DEBUG org.hibernate.SQL - 
    
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)
2025-08-06 07:03:53.321 [main] DEBUG org.hibernate.SQL - 
    
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)
2025-08-06 07:03:53.328 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-08-06 07:03:53.330 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)
2025-08-06 07:03:53.332 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-08-06 07:03:53.335 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-08-06 07:03:53.349 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-08-06 07:03:53.351 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-06 07:03:53.359 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-06 07:03:53.364 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-06 07:03:53.396 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 07:03:53.941 [main] INFO  com.leadexchange.config.RedisConfig - RedisTemplate配置完成
2025-08-06 07:03:54.264 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authController' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\controller\AuthController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\service\impl\UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\repository\user\UserRepository.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
2025-08-06 07:03:54.298 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 07:03:54.299 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2025-08-06 07:03:54.302 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 07:03:54.308 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 07:03:54.311 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 07:03:54.314 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 07:03:54.316 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 07:03:54.318 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 07:03:54.328 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 07:03:54.333 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 07:03:54.340 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 07:03:54.370 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 07:03:54.606 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authController' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\controller\AuthController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\service\impl\UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\repository\user\UserRepository.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:30)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\service\impl\UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\repository\user\UserRepository.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\repository\user\UserRepository.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 33 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:536)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)
	... 47 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:633)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 57 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648)
	... 71 common frames omitted
Caused by: java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.buildSqlSessionFactory(MybatisSqlSessionFactoryBean.java:575)
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.afterPropertiesSet(MybatisSqlSessionFactoryBean.java:444)
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.getObject(MybatisSqlSessionFactoryBean.java:608)
	at com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration.sqlSessionFactory(MybatisPlusAutoConfiguration.java:224)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 72 common frames omitted
Caused by: org.apache.ibatis.builder.BuilderException: Error creating document instance.  Cause: org.xml.sax.SAXParseException; lineNumber: 119; columnNumber: 33; 元素内容必须由格式正确的字符数据或标记组成。
	at org.apache.ibatis.parsing.XPathParser.createDocument(XPathParser.java:263)
	at org.apache.ibatis.parsing.XPathParser.<init>(XPathParser.java:127)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.<init>(XMLMapperBuilder.java:81)
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.buildSqlSessionFactory(MybatisSqlSessionFactoryBean.java:572)
	... 78 common frames omitted
Caused by: org.xml.sax.SAXParseException: 元素内容必须由格式正确的字符数据或标记组成。
	at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:204)
	at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:178)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:400)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1465)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.startOfMarkup(XMLDocumentFragmentScannerImpl.java:2598)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2688)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:635)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:551)
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:890)
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:826)
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:134)
	at java.xml/com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:247)
	at java.xml/com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:342)
	at org.apache.ibatis.parsing.XPathParser.createDocument(XPathParser.java:261)
	... 81 common frames omitted
2025-08-06 07:05:07.090 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 15476 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 07:05:07.092 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 07:05:07.095 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 07:05:09.191 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:05:09.191 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 07:05:09.228 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 JPA repository interfaces.
2025-08-06 07:05:10.324 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:05:10.324 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-08-06 07:05:10.579 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 252 ms. Found 1 Elasticsearch repository interfaces.
2025-08-06 07:05:10.587 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:05:10.589 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 07:05:10.619 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 07:05:10.644 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:05:10.648 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-06 07:05:10.689 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.elasticsearch.LeadSearchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 07:05:10.690 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2025-08-06 07:05:12.247 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 07:05:12.280 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 07:05:12.281 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 07:05:12.637 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 07:05:12.637 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5393 ms
2025-08-06 07:05:13.145 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 07:05:13.614 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 07:05:13.639 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-08-06 07:05:13.836 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 07:05:14.028 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 07:05:14.198 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 07:05:14.713 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 07:05:15.007 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 07:05:17.076 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 07:05:17.082 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 07:05:17.082 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 07:05:17.087 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 07:05:17.088 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 07:05:17.089 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 07:05:17.094 [main] DEBUG org.hibernate.SQL - 
    
    create table leads (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time timestamp,
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        industry_direction varchar(100),
        intended_area numeric(10,2),
        intended_region varchar(100),
        investment_amount numeric(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time timestamp,
        rating varchar(10),
        rating_score integer,
        registered_capital numeric(15,2),
        status varchar(20) not null,
        primary key (id)
    )
2025-08-06 07:05:17.125 [main] DEBUG org.hibernate.SQL - 
    
    create table permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    )
2025-08-06 07:05:17.130 [main] DEBUG org.hibernate.SQL - 
    
    create table role_permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    )
2025-08-06 07:05:17.134 [main] DEBUG org.hibernate.SQL - 
    
    create table roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    )
2025-08-06 07:05:17.137 [main] DEBUG org.hibernate.SQL - 
    
    create table user_roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-08-06 07:05:17.142 [main] DEBUG org.hibernate.SQL - 
    
    create table users (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time timestamp,
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    )
2025-08-06 07:05:17.146 [main] DEBUG org.hibernate.SQL - 
    
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)
2025-08-06 07:05:17.151 [main] DEBUG org.hibernate.SQL - 
    
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)
2025-08-06 07:05:17.153 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-08-06 07:05:17.154 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)
2025-08-06 07:05:17.157 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-08-06 07:05:17.160 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-08-06 07:05:17.175 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-08-06 07:05:17.179 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-06 07:05:17.182 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-06 07:05:17.193 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-06 07:05:17.225 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 07:05:17.802 [main] INFO  com.leadexchange.config.RedisConfig - RedisTemplate配置完成
2025-08-06 07:05:17.869 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authController' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\controller\AuthController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\com\leadexchange\service\impl\UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.leadexchange.repository.user.UserRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-08-06 07:05:17.899 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 07:05:17.900 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2025-08-06 07:05:17.902 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 07:05:17.906 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 07:05:17.906 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 07:05:17.911 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 07:05:17.915 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 07:05:17.916 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 07:05:17.925 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 07:05:17.927 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 07:05:17.937 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 07:05:17.964 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 07:05:18.009 [main] ERROR o.s.b.diagnostics.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.leadexchange.service.impl.UserServiceImpl required a bean of type 'com.leadexchange.repository.user.UserRepository' that could not be found.


Action:

Consider defining a bean of type 'com.leadexchange.repository.user.UserRepository' in your configuration.

2025-08-06 07:08:28.818 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 11256 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 07:08:28.822 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 07:08:28.824 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 07:08:30.686 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:08:30.686 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 07:08:31.005 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 300 ms. Found 1 JPA repository interfaces.
2025-08-06 07:08:32.060 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:08:32.062 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-08-06 07:08:32.117 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository
2025-08-06 07:08:32.154 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 90 ms. Found 1 Elasticsearch repository interfaces.
2025-08-06 07:08:32.166 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:08:32.168 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 07:08:32.207 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 07:08:32.208 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 07:08:32.239 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:08:32.242 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-06 07:08:32.306 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.elasticsearch.LeadSearchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 07:08:32.307 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 07:08:32.308 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 0 Redis repository interfaces.
2025-08-06 07:08:33.890 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 07:08:33.914 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 07:08:33.914 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 07:08:34.163 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 07:08:34.168 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5190 ms
2025-08-06 07:08:34.427 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 07:08:34.825 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 07:08:34.845 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-08-06 07:08:35.052 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 07:08:35.208 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 07:08:35.314 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 07:08:35.599 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 07:08:35.855 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 07:08:37.414 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 07:08:37.424 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 07:08:37.428 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 07:08:37.433 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 07:08:37.433 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 07:08:37.438 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 07:08:37.447 [main] DEBUG org.hibernate.SQL - 
    
    create table leads (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time timestamp,
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        industry_direction varchar(100),
        intended_area numeric(10,2),
        intended_region varchar(100),
        investment_amount numeric(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time timestamp,
        rating varchar(10),
        rating_score integer,
        registered_capital numeric(15,2),
        status varchar(20) not null,
        primary key (id)
    )
2025-08-06 07:08:37.479 [main] DEBUG org.hibernate.SQL - 
    
    create table permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    )
2025-08-06 07:08:37.485 [main] DEBUG org.hibernate.SQL - 
    
    create table role_permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    )
2025-08-06 07:08:37.490 [main] DEBUG org.hibernate.SQL - 
    
    create table roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    )
2025-08-06 07:08:37.498 [main] DEBUG org.hibernate.SQL - 
    
    create table user_roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-08-06 07:08:37.503 [main] DEBUG org.hibernate.SQL - 
    
    create table users (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time timestamp,
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    )
2025-08-06 07:08:37.509 [main] DEBUG org.hibernate.SQL - 
    
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)
2025-08-06 07:08:37.513 [main] DEBUG org.hibernate.SQL - 
    
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)
2025-08-06 07:08:37.517 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-08-06 07:08:37.520 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)
2025-08-06 07:08:37.521 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-08-06 07:08:37.521 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-08-06 07:08:37.542 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-08-06 07:08:37.551 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-06 07:08:37.558 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-06 07:08:37.573 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-06 07:08:37.609 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 07:08:38.249 [main] INFO  com.leadexchange.config.RedisConfig - RedisTemplate配置完成
2025-08-06 07:08:38.941 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - JSqlParser is in classpath. If applicable JSqlParser will be used.
2025-08-06 07:08:39.246 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.leadexchange.repository.lead.LeadRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-08-06 07:08:39.270 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 07:08:39.270 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2025-08-06 07:08:39.270 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 07:08:39.275 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 07:08:39.281 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 07:08:39.283 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 07:08:39.287 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 07:08:39.291 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 07:08:39.298 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 07:08:39.303 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 07:08:39.304 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 07:08:39.333 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 07:08:39.388 [main] ERROR o.s.b.diagnostics.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field leadRepository in com.leadexchange.service.lead.impl.LeadServiceImpl required a bean of type 'com.leadexchange.repository.lead.LeadRepository' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'com.leadexchange.repository.lead.LeadRepository' in your configuration.

2025-08-06 07:12:47.136 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 15648 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 07:12:47.141 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 07:12:47.141 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 07:12:49.068 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:12:49.070 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 07:12:49.310 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 227 ms. Found 2 JPA repository interfaces.
2025-08-06 07:12:50.092 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:12:50.097 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2025-08-06 07:12:50.157 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository, org.springframework.data.elasticsearch.repository.ElasticsearchRepository
2025-08-06 07:12:50.180 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Cannot register bean definition [Root bean: class [org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration] for bean 'leadRepository': There is already [Root bean: class [org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication] bound.
2025-08-06 07:12:50.219 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 07:12:50.295 [main] ERROR o.s.b.diagnostics.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The bean 'leadRepository', defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration, could not be registered. A bean with that name has already been defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication and overriding is disabled.

Action:

Consider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true

2025-08-06 07:14:18.374 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 3568 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 07:14:18.379 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 07:14:18.379 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "h2"
2025-08-06 07:14:20.908 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:14:20.914 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 07:14:21.265 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 329 ms. Found 2 JPA repository interfaces.
2025-08-06 07:14:22.039 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:14:22.045 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 07:14:22.102 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 07:14:22.103 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 56 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 07:14:23.934 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 07:14:23.957 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 07:14:23.957 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 07:14:24.256 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 07:14:24.256 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5721 ms
2025-08-06 07:14:24.511 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 07:14:24.867 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 07:14:24.892 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:lead_exchange_dev'
2025-08-06 07:14:25.113 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 07:14:25.260 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 07:14:25.364 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 07:14:25.649 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 07:14:25.853 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 07:14:27.558 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 07:14:27.559 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 07:14:27.564 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 07:14:27.566 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 07:14:27.567 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 07:14:27.567 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 07:14:27.573 [main] DEBUG org.hibernate.SQL - 
    
    create table leads (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time timestamp,
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        industry_direction varchar(100),
        intended_area numeric(10,2),
        intended_region varchar(100),
        investment_amount numeric(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time timestamp,
        rating varchar(10),
        rating_score integer,
        registered_capital numeric(15,2),
        status varchar(20) not null,
        primary key (id)
    )
2025-08-06 07:14:27.603 [main] DEBUG org.hibernate.SQL - 
    
    create table permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    )
2025-08-06 07:14:27.608 [main] DEBUG org.hibernate.SQL - 
    
    create table role_permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    )
2025-08-06 07:14:27.612 [main] DEBUG org.hibernate.SQL - 
    
    create table roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    )
2025-08-06 07:14:27.617 [main] DEBUG org.hibernate.SQL - 
    
    create table user_roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-08-06 07:14:27.617 [main] DEBUG org.hibernate.SQL - 
    
    create table users (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time timestamp,
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    )
2025-08-06 07:14:27.627 [main] DEBUG org.hibernate.SQL - 
    
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)
2025-08-06 07:14:27.630 [main] DEBUG org.hibernate.SQL - 
    
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)
2025-08-06 07:14:27.634 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-08-06 07:14:27.637 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)
2025-08-06 07:14:27.639 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-08-06 07:14:27.642 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-08-06 07:14:27.656 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-08-06 07:14:27.659 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-06 07:14:27.664 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-06 07:14:27.675 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-06 07:14:27.712 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 07:14:28.332 [main] INFO  com.leadexchange.config.RedisConfig - RedisTemplate配置完成
2025-08-06 07:14:29.157 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - JSqlParser is in classpath. If applicable JSqlParser will be used.
2025-08-06 07:14:29.504 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadServiceImpl': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.leadexchange.service.lead.impl.LeadServiceImpl] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@4aa298b7]
2025-08-06 07:14:29.538 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 07:14:29.541 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2025-08-06 07:14:29.541 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 07:14:29.547 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 07:14:29.550 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 07:14:29.554 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 07:14:29.557 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 07:14:29.560 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 07:14:29.568 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 07:14:29.573 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 07:14:29.581 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 07:14:29.610 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 07:14:29.666 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadServiceImpl': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.leadexchange.service.lead.impl.LeadServiceImpl] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@4aa298b7]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:37)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadServiceImpl': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.leadexchange.service.lead.impl.LeadServiceImpl] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@4aa298b7]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:298)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1302)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1219)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 20 common frames omitted
Caused by: java.lang.IllegalStateException: Failed to introspect Class [com.leadexchange.service.lead.impl.LeadServiceImpl] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@4aa298b7]
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485)
	at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:276)
	... 32 common frames omitted
Caused by: java.lang.NoClassDefFoundError: IPage
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3650)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2735)
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467)
	... 34 common frames omitted
Caused by: java.lang.ClassNotFoundException: IPage
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:528)
	... 38 common frames omitted
2025-08-06 07:16:56.887 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 17540 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 07:16:56.895 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 07:16:56.898 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "h2"
2025-08-06 07:16:58.989 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:16:58.989 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 07:16:59.251 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 249 ms. Found 2 JPA repository interfaces.
2025-08-06 07:17:00.135 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:17:00.135 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 07:17:00.181 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 07:17:00.181 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 42 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 07:17:03.147 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 07:17:03.179 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 07:17:03.181 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 07:17:03.622 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 07:17:03.622 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 6523 ms
2025-08-06 07:17:03.880 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 07:17:04.338 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 07:17:04.359 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:lead_exchange_dev'
2025-08-06 07:17:04.559 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 07:17:04.719 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 07:17:04.820 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 07:17:05.114 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 07:17:05.306 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 07:17:07.006 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 07:17:07.011 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 07:17:07.011 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 07:17:07.014 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 07:17:07.016 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 07:17:07.018 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 07:17:07.025 [main] DEBUG org.hibernate.SQL - 
    
    create table leads (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time timestamp,
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        industry_direction varchar(100),
        intended_area numeric(10,2),
        intended_region varchar(100),
        investment_amount numeric(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time timestamp,
        rating varchar(10),
        rating_score integer,
        registered_capital numeric(15,2),
        status varchar(20) not null,
        primary key (id)
    )
2025-08-06 07:17:07.053 [main] DEBUG org.hibernate.SQL - 
    
    create table permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    )
2025-08-06 07:17:07.058 [main] DEBUG org.hibernate.SQL - 
    
    create table role_permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    )
2025-08-06 07:17:07.062 [main] DEBUG org.hibernate.SQL - 
    
    create table roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    )
2025-08-06 07:17:07.065 [main] DEBUG org.hibernate.SQL - 
    
    create table user_roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-08-06 07:17:07.071 [main] DEBUG org.hibernate.SQL - 
    
    create table users (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time timestamp,
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    )
2025-08-06 07:17:07.075 [main] DEBUG org.hibernate.SQL - 
    
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)
2025-08-06 07:17:07.080 [main] DEBUG org.hibernate.SQL - 
    
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)
2025-08-06 07:17:07.083 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-08-06 07:17:07.086 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)
2025-08-06 07:17:07.088 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-08-06 07:17:07.090 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-08-06 07:17:07.100 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-08-06 07:17:07.108 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-06 07:17:07.110 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-06 07:17:07.124 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-06 07:17:07.164 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 07:17:07.831 [main] INFO  com.leadexchange.config.RedisConfig - RedisTemplate配置完成
2025-08-06 07:17:08.489 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - JSqlParser is in classpath. If applicable JSqlParser will be used.
2025-08-06 07:17:08.893 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.createLead(com.leadexchange.domain.lead.Lead,javax.servlet.http.HttpServletRequest)
2025-08-06 07:17:08.940 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.createLead(com.leadexchange.domain.lead.Lead,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:17:08.971 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.deleteLead(java.lang.Long,javax.servlet.http.HttpServletRequest)
2025-08-06 07:17:08.971 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.deleteLead(java.lang.Long,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:17:08.971 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('ADMIN')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.auditLead(java.lang.Long,com.leadexchange.domain.lead.AuditStatus,java.lang.String,javax.servlet.http.HttpServletRequest)
2025-08-06 07:17:08.972 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.auditLead(java.lang.Long,com.leadexchange.domain.lead.AuditStatus,java.lang.String,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:17:08.972 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.updateLead(java.lang.Long,com.leadexchange.domain.lead.Lead,javax.servlet.http.HttpServletRequest)
2025-08-06 07:17:08.973 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.updateLead(java.lang.Long,com.leadexchange.domain.lead.Lead,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:17:08.973 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.getMyLeads(int,int,com.leadexchange.domain.lead.LeadStatus,javax.servlet.http.HttpServletRequest)
2025-08-06 07:17:08.973 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.getMyLeads(int,int,com.leadexchange.domain.lead.LeadStatus,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:17:08.973 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.publishLead(java.lang.Long,javax.servlet.http.HttpServletRequest)
2025-08-06 07:17:08.973 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.publishLead(java.lang.Long,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:17:08.973 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.favoriteLead(java.lang.Long,javax.servlet.http.HttpServletRequest)
2025-08-06 07:17:08.978 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.favoriteLead(java.lang.Long,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:17:08.979 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.unfavoriteLead(java.lang.Long,javax.servlet.http.HttpServletRequest)
2025-08-06 07:17:08.980 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.unfavoriteLead(java.lang.Long,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:17:08.982 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.offlineLead(java.lang.Long,javax.servlet.http.HttpServletRequest)
2025-08-06 07:17:08.983 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.offlineLead(java.lang.Long,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:17:08.984 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.getFavoriteLeads(int,int,javax.servlet.http.HttpServletRequest)
2025-08-06 07:17:08.985 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.getFavoriteLeads(int,int,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:17:09.444 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-06 07:17:09.550 [main] INFO  com.leadexchange.config.CorsConfig - 全局CORS配置完成 - 允许的源: [http://localhost:3000, http://localhost:5173, http://127.0.0.1:3000, http://127.0.0.1:5173], 允许的方法: [GET, POST, PUT, DELETE, OPTIONS, PATCH], 最大缓存时间: 3600秒
2025-08-06 07:17:09.620 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 36 mappings in 'requestMappingHandlerMapping'
2025-08-06 07:17:10.305 [main] INFO  com.leadexchange.config.RabbitMQConfig - 配置RabbitMQ消息转换器
2025-08-06 07:17:10.511 [main] INFO  com.leadexchange.config.RabbitMQConfig - RabbitTemplate配置完成
2025-08-06 07:17:10.836 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-06 07:17:11.062 [main] INFO  com.leadexchange.config.RabbitMQConfig - RabbitMQ监听器容器工厂配置完成
2025-08-06 07:17:11.130 [main] INFO  com.leadexchange.config.RedisConfig - Redis缓存管理器配置完成，默认TTL: 3600000ms
2025-08-06 07:17:11.255 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-08-06 07:17:11.433 [main] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2cf7860e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@439b893a, org.springframework.security.web.context.SecurityContextPersistenceFilter@6bdc984, org.springframework.security.web.header.HeaderWriterFilter@21ad0060, org.springframework.web.filter.CorsFilter@4b5c84be, org.springframework.security.web.authentication.logout.LogoutFilter@3d45ea17, com.leadexchange.security.JwtAuthenticationFilter@252d8df6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b997735, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@178826db, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@404bca88, org.springframework.security.web.session.SessionManagementFilter@11303cb, org.springframework.security.web.access.ExceptionTranslationFilter@ecd3a9b, org.springframework.security.web.access.intercept.AuthorizationFilter@1b0e81b3]
2025-08-06 07:17:11.828 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-06 07:17:12.104 [main] DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2025-08-06 07:17:12.231 [main] DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2025-08-06 07:17:12.267 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-06 07:17:12.690 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
2025-08-06 07:17:12.733 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 07:17:12.734 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2025-08-06 07:17:12.736 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 07:17:12.739 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 07:17:12.742 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 07:17:12.745 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 07:17:12.748 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 07:17:12.752 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 07:17:12.759 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 07:17:12.763 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 07:17:12.767 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 07:17:12.797 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 07:17:12.854 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:633)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:37)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648)
	... 19 common frames omitted
Caused by: java.io.IOException: Failed to parse mapping resource: 'file [C:\Users\李鹏洲\Desktop\project03\backend\target\classes\mapper\lead\LeadFavoriteMapper.xml]'
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.buildSqlSessionFactory(MybatisSqlSessionFactoryBean.java:575)
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.afterPropertiesSet(MybatisSqlSessionFactoryBean.java:444)
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.getObject(MybatisSqlSessionFactoryBean.java:608)
	at com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration.sqlSessionFactory(MybatisPlusAutoConfiguration.java:224)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 20 common frames omitted
Caused by: org.apache.ibatis.builder.BuilderException: Error creating document instance.  Cause: org.xml.sax.SAXParseException; lineNumber: 119; columnNumber: 33; 元素内容必须由格式正确的字符数据或标记组成。
	at org.apache.ibatis.parsing.XPathParser.createDocument(XPathParser.java:263)
	at org.apache.ibatis.parsing.XPathParser.<init>(XPathParser.java:127)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.<init>(XMLMapperBuilder.java:81)
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.buildSqlSessionFactory(MybatisSqlSessionFactoryBean.java:572)
	... 26 common frames omitted
Caused by: org.xml.sax.SAXParseException: 元素内容必须由格式正确的字符数据或标记组成。
	at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:204)
	at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:178)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:400)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1465)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.startOfMarkup(XMLDocumentFragmentScannerImpl.java:2598)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2688)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:635)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:551)
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:890)
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:826)
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:134)
	at java.xml/com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:247)
	at java.xml/com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:342)
	at org.apache.ibatis.parsing.XPathParser.createDocument(XPathParser.java:261)
	... 29 common frames omitted
2025-08-06 07:18:53.746 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 15948 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 07:18:53.756 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 07:18:53.758 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "h2"
2025-08-06 07:18:56.442 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:18:56.443 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 07:18:56.700 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 239 ms. Found 2 JPA repository interfaces.
2025-08-06 07:18:57.406 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:18:57.406 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 07:18:57.455 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 07:18:57.456 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 45 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 07:18:58.917 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 07:18:58.943 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 07:18:58.943 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 07:18:59.240 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 07:18:59.240 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5234 ms
2025-08-06 07:18:59.664 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 07:19:00.041 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 07:19:00.068 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:lead_exchange_dev'
2025-08-06 07:19:00.286 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 07:19:00.427 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 07:19:00.527 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 07:19:00.805 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 07:19:01.133 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 07:19:03.059 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 07:19:03.065 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 07:19:03.065 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 07:19:03.068 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 07:19:03.070 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 07:19:03.072 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 07:19:03.079 [main] DEBUG org.hibernate.SQL - 
    
    create table leads (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time timestamp,
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        industry_direction varchar(100),
        intended_area numeric(10,2),
        intended_region varchar(100),
        investment_amount numeric(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time timestamp,
        rating varchar(10),
        rating_score integer,
        registered_capital numeric(15,2),
        status varchar(20) not null,
        primary key (id)
    )
2025-08-06 07:19:03.104 [main] DEBUG org.hibernate.SQL - 
    
    create table permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    )
2025-08-06 07:19:03.109 [main] DEBUG org.hibernate.SQL - 
    
    create table role_permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    )
2025-08-06 07:19:03.114 [main] DEBUG org.hibernate.SQL - 
    
    create table roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    )
2025-08-06 07:19:03.118 [main] DEBUG org.hibernate.SQL - 
    
    create table user_roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-08-06 07:19:03.121 [main] DEBUG org.hibernate.SQL - 
    
    create table users (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time timestamp,
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    )
2025-08-06 07:19:03.123 [main] DEBUG org.hibernate.SQL - 
    
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)
2025-08-06 07:19:03.130 [main] DEBUG org.hibernate.SQL - 
    
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)
2025-08-06 07:19:03.133 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-08-06 07:19:03.135 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)
2025-08-06 07:19:03.138 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-08-06 07:19:03.140 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-08-06 07:19:03.153 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-08-06 07:19:03.163 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-06 07:19:03.168 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-06 07:19:03.180 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-06 07:19:03.216 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 07:19:03.868 [main] INFO  com.leadexchange.config.RedisConfig - RedisTemplate配置完成
2025-08-06 07:19:04.648 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - JSqlParser is in classpath. If applicable JSqlParser will be used.
2025-08-06 07:19:05.045 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.updateLead(java.lang.Long,com.leadexchange.domain.lead.Lead,javax.servlet.http.HttpServletRequest)
2025-08-06 07:19:05.096 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.updateLead(java.lang.Long,com.leadexchange.domain.lead.Lead,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:19:05.129 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.getMyLeads(int,int,com.leadexchange.domain.lead.LeadStatus,javax.servlet.http.HttpServletRequest)
2025-08-06 07:19:05.130 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.getMyLeads(int,int,com.leadexchange.domain.lead.LeadStatus,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:19:05.131 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.deleteLead(java.lang.Long,javax.servlet.http.HttpServletRequest)
2025-08-06 07:19:05.132 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.deleteLead(java.lang.Long,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:19:05.132 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.createLead(com.leadexchange.domain.lead.Lead,javax.servlet.http.HttpServletRequest)
2025-08-06 07:19:05.133 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.createLead(com.leadexchange.domain.lead.Lead,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:19:05.134 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('ADMIN')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.auditLead(java.lang.Long,com.leadexchange.domain.lead.AuditStatus,java.lang.String,javax.servlet.http.HttpServletRequest)
2025-08-06 07:19:05.134 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.auditLead(java.lang.Long,com.leadexchange.domain.lead.AuditStatus,java.lang.String,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:19:05.135 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.publishLead(java.lang.Long,javax.servlet.http.HttpServletRequest)
2025-08-06 07:19:05.136 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.publishLead(java.lang.Long,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:19:05.137 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.offlineLead(java.lang.Long,javax.servlet.http.HttpServletRequest)
2025-08-06 07:19:05.138 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.offlineLead(java.lang.Long,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:19:05.140 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.favoriteLead(java.lang.Long,javax.servlet.http.HttpServletRequest)
2025-08-06 07:19:05.142 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.favoriteLead(java.lang.Long,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:19:05.144 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.unfavoriteLead(java.lang.Long,javax.servlet.http.HttpServletRequest)
2025-08-06 07:19:05.145 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.unfavoriteLead(java.lang.Long,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:19:05.147 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.getFavoriteLeads(int,int,javax.servlet.http.HttpServletRequest)
2025-08-06 07:19:05.148 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.getFavoriteLeads(int,int,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:19:05.699 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-06 07:19:05.817 [main] INFO  com.leadexchange.config.CorsConfig - 全局CORS配置完成 - 允许的源: [http://localhost:3000, http://localhost:5173, http://127.0.0.1:3000, http://127.0.0.1:5173], 允许的方法: [GET, POST, PUT, DELETE, OPTIONS, PATCH], 最大缓存时间: 3600秒
2025-08-06 07:19:05.902 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 36 mappings in 'requestMappingHandlerMapping'
2025-08-06 07:19:06.301 [main] INFO  com.leadexchange.config.RabbitMQConfig - 配置RabbitMQ消息转换器
2025-08-06 07:19:06.329 [main] INFO  com.leadexchange.config.RabbitMQConfig - RabbitTemplate配置完成
2025-08-06 07:19:06.524 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-06 07:19:06.723 [main] INFO  com.leadexchange.config.RabbitMQConfig - RabbitMQ监听器容器工厂配置完成
2025-08-06 07:19:06.779 [main] INFO  com.leadexchange.config.RedisConfig - Redis缓存管理器配置完成，默认TTL: 3600000ms
2025-08-06 07:19:06.850 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-08-06 07:19:07.028 [main] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5c658163, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1ca574db, org.springframework.security.web.context.SecurityContextPersistenceFilter@2db27b46, org.springframework.security.web.header.HeaderWriterFilter@46092840, org.springframework.web.filter.CorsFilter@5323b690, org.springframework.security.web.authentication.logout.LogoutFilter@243b8682, com.leadexchange.security.JwtAuthenticationFilter@3b66ac74, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e7b277a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d81b90a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fd65f9a, org.springframework.security.web.session.SessionManagementFilter@7cb15360, org.springframework.security.web.access.ExceptionTranslationFilter@75d454a4, org.springframework.security.web.access.intercept.AuthorizationFilter@5572be5a]
2025-08-06 07:19:07.578 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-06 07:19:07.702 [main] DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2025-08-06 07:19:07.754 [main] DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2025-08-06 07:19:07.770 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-06 07:19:08.253 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-08-06 07:19:08.263 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()" because "this.condition" is null
2025-08-06 07:19:08.322 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 07:19:08.323 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2025-08-06 07:19:08.325 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 07:19:08.328 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 07:19:08.332 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 07:19:08.335 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 07:19:08.337 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 07:19:08.340 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 07:19:08.348 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 07:19:08.353 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 07:19:08.377 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 07:19:08.412 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 07:19:08.479 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()" because "this.condition" is null
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:182)
	at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:357)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:156)
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:124)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:946)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:594)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:39)
Caused by: java.lang.NullPointerException: Cannot invoke "org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()" because "this.condition" is null
	at springfox.documentation.spring.web.WebMvcPatternsRequestConditionWrapper.getPatterns(WebMvcPatternsRequestConditionWrapper.java:56)
	at springfox.documentation.RequestHandler.sortedPaths(RequestHandler.java:113)
	at springfox.documentation.spi.service.contexts.Orderings.lambda$byPatternsCondition$3(Orderings.java:89)
	at java.base/java.util.Comparator.lambda$comparing$77a9974f$1(Comparator.java:473)
	at java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355)
	at java.base/java.util.TimSort.sort(TimSort.java:234)
	at java.base/java.util.Arrays.sort(Arrays.java:1307)
	at java.base/java.util.ArrayList.sort(ArrayList.java:1805)
	at java.base/java.util.stream.SortedOps$RefSortingSink.end(SortedOps.java:392)
	at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:261)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.end(ReferencePipeline.java:285)
	at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:261)
	at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:261)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:571)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at springfox.documentation.spring.web.plugins.WebMvcRequestHandlerProvider.requestHandlers(WebMvcRequestHandlerProvider.java:81)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.withDefaults(AbstractDocumentationPluginsBootstrapper.java:107)
	at springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.buildContext(AbstractDocumentationPluginsBootstrapper.java:91)
	at springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.bootstrapDocumentationPlugins(AbstractDocumentationPluginsBootstrapper.java:82)
	at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.start(DocumentationPluginsBootstrapper.java:100)
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:179)
	... 14 common frames omitted
2025-08-06 07:20:46.546 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 7080 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 07:20:46.554 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 07:20:46.554 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "h2"
2025-08-06 07:20:49.450 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:20:49.453 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 07:20:49.745 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 267 ms. Found 2 JPA repository interfaces.
2025-08-06 07:20:50.411 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 07:20:50.416 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 07:20:50.466 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 07:20:50.471 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 53 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 07:20:51.845 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 07:20:51.871 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 07:20:51.872 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 07:20:52.228 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 07:20:52.228 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5477 ms
2025-08-06 07:20:52.572 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 07:20:53.163 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 07:20:53.192 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:lead_exchange_dev'
2025-08-06 07:20:53.416 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 07:20:53.562 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 07:20:53.678 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 07:20:54.004 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 07:20:54.224 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 07:20:56.163 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 07:20:56.168 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 07:20:56.168 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 07:20:56.172 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 07:20:56.174 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 07:20:56.176 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 07:20:56.187 [main] DEBUG org.hibernate.SQL - 
    
    create table leads (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time timestamp,
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        industry_direction varchar(100),
        intended_area numeric(10,2),
        intended_region varchar(100),
        investment_amount numeric(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time timestamp,
        rating varchar(10),
        rating_score integer,
        registered_capital numeric(15,2),
        status varchar(20) not null,
        primary key (id)
    )
2025-08-06 07:20:56.213 [main] DEBUG org.hibernate.SQL - 
    
    create table permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    )
2025-08-06 07:20:56.219 [main] DEBUG org.hibernate.SQL - 
    
    create table role_permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    )
2025-08-06 07:20:56.222 [main] DEBUG org.hibernate.SQL - 
    
    create table roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    )
2025-08-06 07:20:56.227 [main] DEBUG org.hibernate.SQL - 
    
    create table user_roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-08-06 07:20:56.235 [main] DEBUG org.hibernate.SQL - 
    
    create table users (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time timestamp,
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    )
2025-08-06 07:20:56.241 [main] DEBUG org.hibernate.SQL - 
    
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)
2025-08-06 07:20:56.245 [main] DEBUG org.hibernate.SQL - 
    
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)
2025-08-06 07:20:56.248 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-08-06 07:20:56.251 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)
2025-08-06 07:20:56.252 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-08-06 07:20:56.257 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-08-06 07:20:56.272 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-08-06 07:20:56.275 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-06 07:20:56.279 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-06 07:20:56.290 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-06 07:20:56.329 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 07:20:57.031 [main] INFO  com.leadexchange.config.RedisConfig - RedisTemplate配置完成
2025-08-06 07:20:57.818 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - JSqlParser is in classpath. If applicable JSqlParser will be used.
2025-08-06 07:20:58.165 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('ADMIN')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.auditLead(java.lang.Long,com.leadexchange.domain.lead.AuditStatus,java.lang.String,javax.servlet.http.HttpServletRequest)
2025-08-06 07:20:58.204 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.auditLead(java.lang.Long,com.leadexchange.domain.lead.AuditStatus,java.lang.String,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:20:58.230 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.deleteLead(java.lang.Long,javax.servlet.http.HttpServletRequest)
2025-08-06 07:20:58.232 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.deleteLead(java.lang.Long,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:20:58.232 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.getMyLeads(int,int,com.leadexchange.domain.lead.LeadStatus,javax.servlet.http.HttpServletRequest)
2025-08-06 07:20:58.234 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.getMyLeads(int,int,com.leadexchange.domain.lead.LeadStatus,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:20:58.234 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.updateLead(java.lang.Long,com.leadexchange.domain.lead.Lead,javax.servlet.http.HttpServletRequest)
2025-08-06 07:20:58.234 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.updateLead(java.lang.Long,com.leadexchange.domain.lead.Lead,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:20:58.234 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.createLead(com.leadexchange.domain.lead.Lead,javax.servlet.http.HttpServletRequest)
2025-08-06 07:20:58.234 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.createLead(com.leadexchange.domain.lead.Lead,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:20:58.234 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.publishLead(java.lang.Long,javax.servlet.http.HttpServletRequest)
2025-08-06 07:20:58.234 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.publishLead(java.lang.Long,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:20:58.239 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.offlineLead(java.lang.Long,javax.servlet.http.HttpServletRequest)
2025-08-06 07:20:58.239 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.offlineLead(java.lang.Long,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:20:58.239 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.unfavoriteLead(java.lang.Long,javax.servlet.http.HttpServletRequest)
2025-08-06 07:20:58.239 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.unfavoriteLead(java.lang.Long,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:20:58.244 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.favoriteLead(java.lang.Long,javax.servlet.http.HttpServletRequest)
2025-08-06 07:20:58.245 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.favoriteLead(java.lang.Long,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:20:58.246 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.getFavoriteLeads(int,int,javax.servlet.http.HttpServletRequest)
2025-08-06 07:20:58.246 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.getFavoriteLeads(int,int,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 07:20:58.266 [main] INFO  com.leadexchange.config.RabbitMQConfig - 配置RabbitMQ消息转换器
2025-08-06 07:20:58.854 [main] INFO  com.leadexchange.config.RabbitMQConfig - RabbitTemplate配置完成
2025-08-06 07:20:58.916 [main] INFO  com.leadexchange.config.RabbitMQConfig - RabbitMQ监听器容器工厂配置完成
2025-08-06 07:20:58.976 [main] INFO  com.leadexchange.config.RedisConfig - Redis缓存管理器配置完成，默认TTL: 3600000ms
2025-08-06 07:20:59.049 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-08-06 07:20:59.288 [main] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2d73aa17, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e1c3b8f, org.springframework.security.web.context.SecurityContextPersistenceFilter@39352f6b, org.springframework.security.web.header.HeaderWriterFilter@41a18b54, org.springframework.web.filter.CorsFilter@482c8db4, org.springframework.security.web.authentication.logout.LogoutFilter@7ed0e5db, com.leadexchange.security.JwtAuthenticationFilter@74eec640, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34c3e307, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d1703f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@348c00d9, org.springframework.security.web.session.SessionManagementFilter@36d8ddc5, org.springframework.security.web.access.ExceptionTranslationFilter@6ee0ef34, org.springframework.security.web.access.intercept.AuthorizationFilter@73ae084e]
2025-08-06 07:20:59.482 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-06 07:21:00.147 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-06 07:21:00.324 [main] INFO  com.leadexchange.config.CorsConfig - 全局CORS配置完成 - 允许的源: [http://localhost:3000, http://localhost:5173, http://127.0.0.1:3000, http://127.0.0.1:5173], 允许的方法: [GET, POST, PUT, DELETE, OPTIONS, PATCH], 最大缓存时间: 3600秒
2025-08-06 07:21:00.463 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 31 mappings in 'requestMappingHandlerMapping'
2025-08-06 07:21:00.537 [main] DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-08-06 07:21:00.571 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-06 07:21:01.063 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-06 07:21:01.207 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-08-06 07:21:01.244 [main] INFO  com.leadexchange.LeadExchangeApplication - Started LeadExchangeApplication in 16.001 seconds (JVM running for 18.023)
2025-08-06 17:03:26.653 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 23516 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 17:03:26.658 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 17:03:26.664 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 17:03:28.747 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 17:03:28.747 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 17:03:29.084 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 311 ms. Found 3 JPA repository interfaces.
2025-08-06 17:03:30.238 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 17:03:30.243 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 17:03:30.314 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 17:03:30.320 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 17:03:30.322 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 17:03:30.324 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 79 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 17:03:30.364 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 17:03:30.367 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-06 17:03:30.439 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.elasticsearch.LeadSearchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 17:03:30.440 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 17:03:30.442 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 17:03:30.444 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 17:03:30.445 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 17:03:30.446 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 44 ms. Found 0 Redis repository interfaces.
2025-08-06 17:03:32.238 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 17:03:32.274 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 17:03:32.275 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 17:03:32.547 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 17:03:32.547 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5729 ms
2025-08-06 17:03:32.818 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 17:03:33.235 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 17:03:33.252 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-08-06 17:03:33.556 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 17:03:33.732 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 17:03:33.861 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 17:03:34.184 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 17:03:34.413 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 17:03:36.034 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 17:03:36.039 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 17:03:36.039 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 17:03:36.043 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 17:03:36.045 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 17:03:36.046 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 17:03:36.047 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 17:03:36.050 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 17:03:36.052 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 17:03:36.060 [main] DEBUG org.hibernate.SQL - 
    
    create table lead_views (
       id bigint generated by default as identity,
        created_by bigint,
        created_time timestamp,
        ip_address varchar(45),
        lead_id bigint not null,
        updated_by bigint,
        updated_time timestamp,
        user_agent varchar(500),
        user_id bigint,
        view_time timestamp not null,
        primary key (id)
    )
2025-08-06 17:03:36.082 [main] DEBUG org.hibernate.SQL - 
    
    create table leads (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time timestamp,
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        favorite_count int default 0 not null,
        industry_direction varchar(100),
        intended_area numeric(10,2),
        intended_region varchar(100),
        investment_amount numeric(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time timestamp,
        rating varchar(10),
        rating_score integer,
        registered_capital numeric(15,2),
        status varchar(20) not null,
        primary key (id)
    )
2025-08-06 17:03:36.090 [main] DEBUG org.hibernate.SQL - 
    
    create table permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    )
2025-08-06 17:03:36.092 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_histories (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        change_description varchar(500),
        change_reason varchar(50) not null,
        current_rating varchar(10) not null,
        current_score integer not null,
        lead_id bigint not null,
        operator_id bigint,
        operator_name varchar(100),
        previous_rating varchar(10),
        previous_score integer,
        rating_details TEXT,
        rating_time timestamp not null,
        rating_version varchar(20),
        primary key (id)
    )
2025-08-06 17:03:36.099 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_rules (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        calculation_method varchar(50) not null,
        config_params TEXT,
        description varchar(500),
        is_enabled boolean not null,
        rule_name varchar(100) not null,
        rule_type varchar(50) not null,
        sort_order integer not null,
        weight numeric(5,2) not null,
        primary key (id)
    )
2025-08-06 17:03:36.102 [main] DEBUG org.hibernate.SQL - 
    
    create table role_permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    )
2025-08-06 17:03:36.105 [main] DEBUG org.hibernate.SQL - 
    
    create table roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    )
2025-08-06 17:03:36.110 [main] DEBUG org.hibernate.SQL - 
    
    create table user_roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-08-06 17:03:36.115 [main] DEBUG org.hibernate.SQL - 
    
    create table users (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time timestamp,
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    )
2025-08-06 17:03:36.121 [main] DEBUG org.hibernate.SQL - 
    
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)
2025-08-06 17:03:36.125 [main] DEBUG org.hibernate.SQL - 
    
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)
2025-08-06 17:03:36.128 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-08-06 17:03:36.130 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)
2025-08-06 17:03:36.133 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-08-06 17:03:36.138 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-08-06 17:03:36.154 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-08-06 17:03:36.157 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-06 17:03:36.160 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-06 17:03:36.173 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-06 17:03:36.208 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 17:03:36.898 [main] INFO  com.leadexchange.config.RedisConfig - RedisTemplate配置完成
2025-08-06 17:03:37.555 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - JSqlParser is in classpath. If applicable JSqlParser will be used.
2025-08-06 17:03:37.961 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
2025-08-06 17:03:37.989 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 17:03:37.995 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2025-08-06 17:03:37.997 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 17:03:38.000 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 17:03:38.002 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 17:03:38.006 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 17:03:38.009 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 17:03:38.009 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 17:03:38.015 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 17:03:38.018 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 17:03:38.021 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 17:03:38.028 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 17:03:38.032 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 17:03:38.038 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 17:03:38.063 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 17:03:38.119 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:39)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 34 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:107)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:95)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1086)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:97)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:87)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:87)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:365)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:231)
	at org.springframework.data.util.Lazy.get(Lazy.java:115)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:96)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:119)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:259)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:93)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:103)
	... 66 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'publisherId' found for type 'Lead'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:91)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:438)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:414)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:367)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:349)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:332)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:250)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:251)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:384)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:385)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:96)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:89)
	... 70 common frames omitted
2025-08-06 17:05:12.174 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 10748 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 17:05:12.181 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 17:05:12.182 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 17:05:14.745 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 17:05:14.746 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 17:05:15.064 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 300 ms. Found 3 JPA repository interfaces.
2025-08-06 17:05:15.836 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 17:05:15.838 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 17:05:15.891 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 17:05:15.895 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 17:05:15.897 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 17:05:15.898 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 59 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 17:05:15.959 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 17:05:15.964 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-06 17:05:16.067 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.elasticsearch.LeadSearchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 17:05:16.069 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 17:05:16.071 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 17:05:16.073 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 17:05:16.074 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 17:05:16.075 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 0 Redis repository interfaces.
2025-08-06 17:05:18.151 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 17:05:18.206 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 17:05:18.208 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 17:05:18.557 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 17:05:18.558 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 6147 ms
2025-08-06 17:05:18.881 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 17:05:19.477 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 17:05:19.500 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-08-06 17:05:19.750 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 17:05:19.954 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 17:05:20.119 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 17:05:20.553 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 17:05:20.896 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 17:05:23.286 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 17:05:23.292 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 17:05:23.294 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 17:05:23.296 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 17:05:23.299 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 17:05:23.300 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 17:05:23.301 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 17:05:23.302 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 17:05:23.304 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 17:05:23.310 [main] DEBUG org.hibernate.SQL - 
    
    create table lead_views (
       id bigint generated by default as identity,
        created_by bigint,
        created_time timestamp,
        ip_address varchar(45),
        lead_id bigint not null,
        updated_by bigint,
        updated_time timestamp,
        user_agent varchar(500),
        user_id bigint,
        view_time timestamp not null,
        primary key (id)
    )
2025-08-06 17:05:23.336 [main] DEBUG org.hibernate.SQL - 
    
    create table leads (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time timestamp,
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        favorite_count int default 0 not null,
        industry_direction varchar(100),
        intended_area numeric(10,2),
        intended_region varchar(100),
        investment_amount numeric(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time timestamp,
        rating varchar(10),
        rating_score integer,
        registered_capital numeric(15,2),
        status varchar(20) not null,
        primary key (id)
    )
2025-08-06 17:05:23.347 [main] DEBUG org.hibernate.SQL - 
    
    create table permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    )
2025-08-06 17:05:23.350 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_histories (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        change_description varchar(500),
        change_reason varchar(50) not null,
        current_rating varchar(10) not null,
        current_score integer not null,
        lead_id bigint not null,
        operator_id bigint,
        operator_name varchar(100),
        previous_rating varchar(10),
        previous_score integer,
        rating_details TEXT,
        rating_time timestamp not null,
        rating_version varchar(20),
        primary key (id)
    )
2025-08-06 17:05:23.354 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_rules (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        calculation_method varchar(50) not null,
        config_params TEXT,
        description varchar(500),
        is_enabled boolean not null,
        rule_name varchar(100) not null,
        rule_type varchar(50) not null,
        sort_order integer not null,
        weight numeric(5,2) not null,
        primary key (id)
    )
2025-08-06 17:05:23.359 [main] DEBUG org.hibernate.SQL - 
    
    create table role_permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    )
2025-08-06 17:05:23.363 [main] DEBUG org.hibernate.SQL - 
    
    create table roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    )
2025-08-06 17:05:23.367 [main] DEBUG org.hibernate.SQL - 
    
    create table user_roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-08-06 17:05:23.374 [main] DEBUG org.hibernate.SQL - 
    
    create table users (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time timestamp,
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    )
2025-08-06 17:05:23.381 [main] DEBUG org.hibernate.SQL - 
    
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)
2025-08-06 17:05:23.385 [main] DEBUG org.hibernate.SQL - 
    
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)
2025-08-06 17:05:23.387 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-08-06 17:05:23.390 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)
2025-08-06 17:05:23.392 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-08-06 17:05:23.397 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-08-06 17:05:23.415 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-08-06 17:05:23.420 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-06 17:05:23.424 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-06 17:05:23.432 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-06 17:05:23.461 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 17:05:24.307 [main] INFO  com.leadexchange.config.RedisConfig - RedisTemplate配置完成
2025-08-06 17:05:25.020 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - JSqlParser is in classpath. If applicable JSqlParser will be used.
2025-08-06 17:05:25.424 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
2025-08-06 17:05:25.454 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 17:05:25.455 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2025-08-06 17:05:25.457 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 17:05:25.462 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 17:05:25.464 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 17:05:25.468 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 17:05:25.472 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 17:05:25.476 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 17:05:25.478 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 17:05:25.481 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 17:05:25.485 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 17:05:25.492 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 17:05:25.497 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 17:05:25.508 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 17:05:25.597 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 17:05:25.663 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:39)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 34 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:107)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:95)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1086)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:97)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:87)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:87)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:365)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:231)
	at org.springframework.data.util.Lazy.get(Lazy.java:115)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:96)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:119)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:259)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:93)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:103)
	... 66 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'publisherId' found for type 'Lead'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:91)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:438)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:414)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:367)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:349)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:332)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:250)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:251)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:384)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:385)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:96)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:89)
	... 70 common frames omitted
2025-08-06 22:50:33.838 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 9724 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 22:50:33.843 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 22:50:33.848 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 22:50:36.903 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 22:50:36.905 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 22:50:37.256 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 327 ms. Found 3 JPA repository interfaces.
2025-08-06 22:50:38.082 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 22:50:38.089 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 22:50:38.147 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 22:50:38.152 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 22:50:38.158 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 22:50:38.161 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 22:50:38.162 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 71 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 22:50:38.195 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 22:50:38.200 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-06 22:50:38.279 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.elasticsearch.LeadSearchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 22:50:38.279 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 22:50:38.279 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 22:50:38.284 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 22:50:38.284 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 22:50:38.288 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 22:50:38.289 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 43 ms. Found 0 Redis repository interfaces.
2025-08-06 22:50:40.342 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 22:50:40.429 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 22:50:40.434 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 22:50:40.938 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 22:50:40.939 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 6878 ms
2025-08-06 22:50:41.413 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 22:50:42.231 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 22:50:42.285 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-08-06 22:50:42.692 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 22:50:42.966 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 22:50:43.206 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 22:50:43.850 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 22:50:44.371 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 22:50:47.342 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 22:50:47.349 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 22:50:47.349 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 22:50:47.353 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 22:50:47.354 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 22:50:47.356 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 22:50:47.357 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 22:50:47.359 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 22:50:47.360 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 22:50:47.365 [main] DEBUG org.hibernate.SQL - 
    
    create table lead_views (
       id bigint generated by default as identity,
        created_by bigint,
        created_time timestamp,
        ip_address varchar(45),
        lead_id bigint not null,
        updated_by bigint,
        updated_time timestamp,
        user_agent varchar(500),
        user_id bigint,
        view_time timestamp not null,
        primary key (id)
    )
2025-08-06 22:50:47.383 [main] DEBUG org.hibernate.SQL - 
    
    create table leads (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time timestamp,
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_email varchar(100),
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        favorite_count int default 0 not null,
        industry_direction varchar(100),
        intended_area numeric(10,2),
        intended_region varchar(100),
        investment_amount numeric(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time timestamp,
        rating varchar(10),
        rating_score integer,
        registered_capital numeric(15,2),
        status varchar(20) not null,
        primary key (id)
    )
2025-08-06 22:50:47.397 [main] DEBUG org.hibernate.SQL - 
    
    create table permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    )
2025-08-06 22:50:47.401 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_histories (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        change_description varchar(500),
        change_reason varchar(50) not null,
        current_rating varchar(10) not null,
        current_score integer not null,
        lead_id bigint not null,
        operator_id bigint,
        operator_name varchar(100),
        previous_rating varchar(10),
        previous_score integer,
        rating_details TEXT,
        rating_time timestamp not null,
        rating_version varchar(20),
        primary key (id)
    )
2025-08-06 22:50:47.406 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_rules (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        calculation_method varchar(50) not null,
        config_params TEXT,
        description varchar(500),
        is_enabled boolean not null,
        rule_name varchar(100) not null,
        rule_type varchar(50) not null,
        sort_order integer not null,
        weight numeric(5,2) not null,
        primary key (id)
    )
2025-08-06 22:50:47.408 [main] DEBUG org.hibernate.SQL - 
    
    create table role_permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    )
2025-08-06 22:50:47.411 [main] DEBUG org.hibernate.SQL - 
    
    create table roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    )
2025-08-06 22:50:47.415 [main] DEBUG org.hibernate.SQL - 
    
    create table user_roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-08-06 22:50:47.421 [main] DEBUG org.hibernate.SQL - 
    
    create table users (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time timestamp,
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    )
2025-08-06 22:50:47.426 [main] DEBUG org.hibernate.SQL - 
    
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)
2025-08-06 22:50:47.430 [main] DEBUG org.hibernate.SQL - 
    
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)
2025-08-06 22:50:47.432 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-08-06 22:50:47.433 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)
2025-08-06 22:50:47.436 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-08-06 22:50:47.437 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-08-06 22:50:47.457 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-08-06 22:50:47.461 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-06 22:50:47.465 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-06 22:50:47.475 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-06 22:50:47.509 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 22:50:48.332 [main] INFO  com.leadexchange.config.RedisConfig - RedisTemplate配置完成
2025-08-06 22:50:49.007 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - JSqlParser is in classpath. If applicable JSqlParser will be used.
2025-08-06 22:50:49.488 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
2025-08-06 22:50:49.516 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 22:50:49.518 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2025-08-06 22:50:49.520 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 22:50:49.525 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 22:50:49.527 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 22:50:49.530 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 22:50:49.532 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 22:50:49.534 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 22:50:49.537 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 22:50:49.539 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 22:50:49.543 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 22:50:49.549 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 22:50:49.552 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 22:50:49.557 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 22:50:49.581 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 22:50:49.644 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:39)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 34 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:107)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:95)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1086)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:97)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:87)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:87)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:365)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:231)
	at org.springframework.data.util.Lazy.get(Lazy.java:115)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:96)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:119)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:259)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:93)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:103)
	... 66 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'publisherId' found for type 'Lead'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:91)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:438)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:414)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:367)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:349)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:332)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:250)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:251)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:384)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:385)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:96)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:89)
	... 70 common frames omitted
2025-08-06 22:52:59.052 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 9816 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 22:52:59.059 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 22:52:59.061 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 22:53:03.712 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 22:53:03.713 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 22:53:04.398 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 656 ms. Found 3 JPA repository interfaces.
2025-08-06 22:53:06.021 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 22:53:06.025 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 22:53:06.119 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 22:53:06.128 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 22:53:06.221 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 22:53:06.257 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 22:53:06.259 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 232 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 22:53:06.326 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 22:53:06.331 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-06 22:53:06.406 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.elasticsearch.LeadSearchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 22:53:06.408 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 22:53:06.410 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 22:53:06.412 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 22:53:06.413 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 22:53:06.415 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 22:53:06.416 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 47 ms. Found 0 Redis repository interfaces.
2025-08-06 22:53:09.835 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 22:53:09.887 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 22:53:09.889 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 22:53:10.353 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 22:53:10.354 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 11053 ms
2025-08-06 22:53:10.864 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 22:53:12.395 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 22:53:12.521 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-08-06 22:53:13.055 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 22:53:13.526 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 22:53:13.758 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 22:53:14.475 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 22:53:14.914 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 22:53:18.883 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 22:53:18.893 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 22:53:18.897 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 22:53:18.899 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 22:53:18.902 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 22:53:18.904 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 22:53:18.905 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 22:53:18.907 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 22:53:18.909 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 22:53:18.919 [main] DEBUG org.hibernate.SQL - 
    
    create table lead_views (
       id bigint generated by default as identity,
        created_by bigint,
        created_time timestamp,
        ip_address varchar(45),
        lead_id bigint not null,
        updated_by bigint,
        updated_time timestamp,
        user_agent varchar(500),
        user_id bigint,
        view_time timestamp not null,
        primary key (id)
    )
2025-08-06 22:53:18.950 [main] DEBUG org.hibernate.SQL - 
    
    create table leads (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time timestamp,
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_email varchar(100),
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        favorite_count int default 0 not null,
        industry_direction varchar(100),
        intended_area numeric(10,2),
        intended_region varchar(100),
        investment_amount numeric(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time timestamp,
        rating varchar(10),
        rating_score integer,
        registered_capital numeric(15,2),
        status varchar(20) not null,
        primary key (id)
    )
2025-08-06 22:53:18.966 [main] DEBUG org.hibernate.SQL - 
    
    create table permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    )
2025-08-06 22:53:18.974 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_histories (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        change_description varchar(500),
        change_reason varchar(50) not null,
        current_rating varchar(10) not null,
        current_score integer not null,
        lead_id bigint not null,
        operator_id bigint,
        operator_name varchar(100),
        previous_rating varchar(10),
        previous_score integer,
        rating_details TEXT,
        rating_time timestamp not null,
        rating_version varchar(20),
        primary key (id)
    )
2025-08-06 22:53:18.982 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_rules (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        calculation_method varchar(50) not null,
        config_params TEXT,
        description varchar(500),
        is_enabled boolean not null,
        rule_name varchar(100) not null,
        rule_type varchar(50) not null,
        sort_order integer not null,
        weight numeric(5,2) not null,
        primary key (id)
    )
2025-08-06 22:53:18.986 [main] DEBUG org.hibernate.SQL - 
    
    create table role_permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    )
2025-08-06 22:53:18.991 [main] DEBUG org.hibernate.SQL - 
    
    create table roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    )
2025-08-06 22:53:18.996 [main] DEBUG org.hibernate.SQL - 
    
    create table user_roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-08-06 22:53:19.002 [main] DEBUG org.hibernate.SQL - 
    
    create table users (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time timestamp,
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    )
2025-08-06 22:53:19.010 [main] DEBUG org.hibernate.SQL - 
    
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)
2025-08-06 22:53:19.015 [main] DEBUG org.hibernate.SQL - 
    
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)
2025-08-06 22:53:19.017 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-08-06 22:53:19.021 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)
2025-08-06 22:53:19.024 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-08-06 22:53:19.029 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-08-06 22:53:19.053 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-08-06 22:53:19.059 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-06 22:53:19.063 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-06 22:53:19.078 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-06 22:53:19.116 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 22:53:20.635 [main] INFO  com.leadexchange.config.RedisConfig - RedisTemplate配置完成
2025-08-06 22:53:22.107 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - JSqlParser is in classpath. If applicable JSqlParser will be used.
2025-08-06 22:53:23.523 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
2025-08-06 22:53:23.571 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 22:53:23.574 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2025-08-06 22:53:23.578 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 22:53:23.586 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 22:53:23.589 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 22:53:23.593 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 22:53:23.598 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 22:53:23.600 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 22:53:23.603 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 22:53:23.606 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 22:53:23.609 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 22:53:23.615 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 22:53:23.619 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 22:53:23.624 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 22:53:23.657 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 22:53:23.738 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:39)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 34 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:107)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:95)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1086)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:97)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:87)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:87)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:365)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:231)
	at org.springframework.data.util.Lazy.get(Lazy.java:115)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:96)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:119)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:259)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:93)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:103)
	... 66 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'publisherId' found for type 'Lead'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:91)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:438)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:414)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:367)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:349)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:332)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:250)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:251)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:384)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:385)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:96)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:89)
	... 70 common frames omitted
2025-08-06 22:53:54.494 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 4024 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 22:53:54.499 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 22:53:54.499 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 22:53:56.287 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 22:53:56.287 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 22:53:56.609 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 308 ms. Found 3 JPA repository interfaces.
2025-08-06 22:53:57.379 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 22:53:57.379 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 22:53:57.443 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 22:53:57.447 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 22:53:57.451 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 22:53:57.452 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 22:53:57.452 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 69 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 22:53:57.479 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 22:53:57.483 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-06 22:53:57.534 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.elasticsearch.LeadSearchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 22:53:57.537 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 22:53:57.537 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 22:53:57.537 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 22:53:57.537 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 22:53:57.541 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 22:53:57.541 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 0 Redis repository interfaces.
2025-08-06 22:53:59.079 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 22:53:59.120 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 22:53:59.122 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 22:53:59.394 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 22:53:59.394 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4744 ms
2025-08-06 22:53:59.705 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 22:54:00.153 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 22:54:00.176 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-08-06 22:54:00.424 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 22:54:00.636 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 22:54:00.801 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 22:54:01.128 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 22:54:01.328 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 22:54:02.874 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 22:54:02.879 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 22:54:02.884 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 22:54:02.886 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 22:54:02.887 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 22:54:02.889 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 22:54:02.890 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 22:54:02.891 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 22:54:02.893 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 22:54:02.899 [main] DEBUG org.hibernate.SQL - 
    
    create table lead_views (
       id bigint generated by default as identity,
        created_by bigint,
        created_time timestamp,
        ip_address varchar(45),
        lead_id bigint not null,
        updated_by bigint,
        updated_time timestamp,
        user_agent varchar(500),
        user_id bigint,
        view_time timestamp not null,
        primary key (id)
    )
2025-08-06 22:54:02.918 [main] DEBUG org.hibernate.SQL - 
    
    create table leads (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time timestamp,
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_email varchar(100),
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        favorite_count int default 0 not null,
        industry_direction varchar(100),
        intended_area numeric(10,2),
        intended_region varchar(100),
        investment_amount numeric(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time timestamp,
        rating varchar(10),
        rating_score integer,
        registered_capital numeric(15,2),
        status varchar(20) not null,
        primary key (id)
    )
2025-08-06 22:54:02.927 [main] DEBUG org.hibernate.SQL - 
    
    create table permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    )
2025-08-06 22:54:02.933 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_histories (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        change_description varchar(500),
        change_reason varchar(50) not null,
        current_rating varchar(10) not null,
        current_score integer not null,
        lead_id bigint not null,
        operator_id bigint,
        operator_name varchar(100),
        previous_rating varchar(10),
        previous_score integer,
        rating_details TEXT,
        rating_time timestamp not null,
        rating_version varchar(20),
        primary key (id)
    )
2025-08-06 22:54:02.939 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_rules (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        calculation_method varchar(50) not null,
        config_params TEXT,
        description varchar(500),
        is_enabled boolean not null,
        rule_name varchar(100) not null,
        rule_type varchar(50) not null,
        sort_order integer not null,
        weight numeric(5,2) not null,
        primary key (id)
    )
2025-08-06 22:54:02.943 [main] DEBUG org.hibernate.SQL - 
    
    create table role_permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    )
2025-08-06 22:54:02.946 [main] DEBUG org.hibernate.SQL - 
    
    create table roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    )
2025-08-06 22:54:02.950 [main] DEBUG org.hibernate.SQL - 
    
    create table user_roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-08-06 22:54:02.953 [main] DEBUG org.hibernate.SQL - 
    
    create table users (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time timestamp,
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    )
2025-08-06 22:54:02.955 [main] DEBUG org.hibernate.SQL - 
    
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)
2025-08-06 22:54:02.964 [main] DEBUG org.hibernate.SQL - 
    
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)
2025-08-06 22:54:02.966 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-08-06 22:54:02.968 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)
2025-08-06 22:54:02.970 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-08-06 22:54:02.972 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-08-06 22:54:02.985 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-08-06 22:54:02.990 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-06 22:54:02.997 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-06 22:54:03.006 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-06 22:54:03.041 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 22:54:03.696 [main] INFO  com.leadexchange.config.RedisConfig - RedisTemplate配置完成
2025-08-06 22:54:04.543 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - JSqlParser is in classpath. If applicable JSqlParser will be used.
2025-08-06 22:54:04.917 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
2025-08-06 22:54:04.941 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 22:54:04.943 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2025-08-06 22:54:04.945 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 22:54:04.949 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 22:54:04.951 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 22:54:04.954 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 22:54:04.956 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 22:54:04.958 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 22:54:04.961 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 22:54:04.964 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 22:54:04.966 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 22:54:04.972 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 22:54:04.976 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 22:54:04.979 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 22:54:05.002 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 22:54:05.064 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:39)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 34 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:107)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:95)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1086)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:97)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:87)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:87)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:365)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:231)
	at org.springframework.data.util.Lazy.get(Lazy.java:115)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:96)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:119)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:259)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:93)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:103)
	... 66 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'publisherId' found for type 'Lead'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:91)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:438)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:414)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:367)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:349)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:332)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:250)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:251)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:384)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:385)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:96)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:89)
	... 70 common frames omitted
2025-08-06 22:59:28.655 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 22524 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 22:59:28.661 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 22:59:28.661 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 22:59:32.375 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 22:59:32.377 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 22:59:33.043 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 639 ms. Found 3 JPA repository interfaces.
2025-08-06 22:59:34.542 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 22:59:34.567 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 22:59:34.648 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 22:59:34.654 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 22:59:34.659 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 22:59:34.662 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 22:59:34.665 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 96 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 22:59:34.711 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 22:59:34.713 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-06 22:59:34.804 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.elasticsearch.LeadSearchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 22:59:34.809 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 22:59:34.810 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 22:59:34.812 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 22:59:34.815 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 22:59:34.815 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 22:59:34.817 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 64 ms. Found 0 Redis repository interfaces.
2025-08-06 22:59:38.199 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 22:59:38.258 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 22:59:38.261 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 22:59:38.640 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 22:59:38.641 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 9788 ms
2025-08-06 22:59:38.948 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 22:59:39.943 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 22:59:39.991 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-08-06 22:59:40.371 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 22:59:40.701 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 22:59:40.905 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 22:59:41.336 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 22:59:41.617 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 22:59:43.510 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 22:59:43.512 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 22:59:43.512 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 22:59:43.518 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 22:59:43.519 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 22:59:43.521 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 22:59:43.522 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 22:59:43.523 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 22:59:43.524 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 22:59:43.526 [main] DEBUG org.hibernate.SQL - 
    
    create table lead_views (
       id bigint generated by default as identity,
        created_by bigint,
        created_time timestamp,
        ip_address varchar(45),
        lead_id bigint not null,
        updated_by bigint,
        updated_time timestamp,
        user_agent varchar(500),
        user_id bigint,
        view_time timestamp not null,
        primary key (id)
    )
2025-08-06 22:59:43.548 [main] DEBUG org.hibernate.SQL - 
    
    create table leads (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time timestamp,
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_email varchar(100),
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        favorite_count int default 0 not null,
        industry_direction varchar(100),
        intended_area numeric(10,2),
        intended_region varchar(100),
        investment_amount numeric(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time timestamp,
        rating varchar(10),
        rating_score integer,
        registered_capital numeric(15,2),
        status varchar(20) not null,
        primary key (id)
    )
2025-08-06 22:59:43.560 [main] DEBUG org.hibernate.SQL - 
    
    create table permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    )
2025-08-06 22:59:43.564 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_histories (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        change_description varchar(500),
        change_reason varchar(50) not null,
        current_rating varchar(10) not null,
        current_score integer not null,
        lead_id bigint not null,
        operator_id bigint,
        operator_name varchar(100),
        previous_rating varchar(10),
        previous_score integer,
        rating_details TEXT,
        rating_time timestamp not null,
        rating_version varchar(20),
        primary key (id)
    )
2025-08-06 22:59:43.569 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_rules (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        calculation_method varchar(50) not null,
        config_params TEXT,
        description varchar(500),
        is_enabled boolean not null,
        rule_name varchar(100) not null,
        rule_type varchar(50) not null,
        sort_order integer not null,
        weight numeric(5,2) not null,
        primary key (id)
    )
2025-08-06 22:59:43.573 [main] DEBUG org.hibernate.SQL - 
    
    create table role_permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    )
2025-08-06 22:59:43.576 [main] DEBUG org.hibernate.SQL - 
    
    create table roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    )
2025-08-06 22:59:43.580 [main] DEBUG org.hibernate.SQL - 
    
    create table user_roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-08-06 22:59:43.580 [main] DEBUG org.hibernate.SQL - 
    
    create table users (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time timestamp,
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    )
2025-08-06 22:59:43.590 [main] DEBUG org.hibernate.SQL - 
    
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)
2025-08-06 22:59:43.592 [main] DEBUG org.hibernate.SQL - 
    
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)
2025-08-06 22:59:43.594 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-08-06 22:59:43.596 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)
2025-08-06 22:59:43.598 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-08-06 22:59:43.601 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-08-06 22:59:43.614 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-08-06 22:59:43.619 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-06 22:59:43.623 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-06 22:59:43.633 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-06 22:59:43.662 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 22:59:44.461 [main] INFO  com.leadexchange.config.RedisConfig - RedisTemplate配置完成
2025-08-06 22:59:45.225 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - JSqlParser is in classpath. If applicable JSqlParser will be used.
2025-08-06 22:59:45.784 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
2025-08-06 22:59:45.819 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 22:59:45.821 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2025-08-06 22:59:45.823 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 22:59:45.828 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 22:59:45.831 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 22:59:45.835 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 22:59:45.838 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 22:59:45.840 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 22:59:45.844 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 22:59:45.846 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 22:59:45.849 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 22:59:45.856 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 22:59:45.861 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 22:59:45.867 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 22:59:45.896 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 22:59:45.975 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:39)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 34 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:107)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:95)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1086)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:97)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:87)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:87)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:365)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:231)
	at org.springframework.data.util.Lazy.get(Lazy.java:115)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:96)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:119)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:259)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:93)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:103)
	... 66 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'publisherId' found for type 'Lead'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:91)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:438)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:414)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:367)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:349)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:332)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:250)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:251)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:384)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:385)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:96)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:89)
	... 70 common frames omitted
2025-08-06 23:00:52.236 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 9680 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 23:00:52.241 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 23:00:52.242 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 23:00:54.545 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:00:54.546 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 23:00:54.829 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 267 ms. Found 3 JPA repository interfaces.
2025-08-06 23:00:55.687 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:00:55.690 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 23:00:55.741 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:00:55.746 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:00:55.750 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:00:55.751 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:00:55.753 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 61 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 23:00:55.772 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:00:55.775 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-06 23:00:55.828 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.elasticsearch.LeadSearchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:00:55.830 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:00:55.831 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:00:55.833 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:00:55.834 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:00:55.835 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:00:55.836 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 0 Redis repository interfaces.
2025-08-06 23:00:57.607 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 23:00:57.631 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 23:00:57.632 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 23:00:57.914 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 23:00:57.915 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5502 ms
2025-08-06 23:00:58.222 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 23:00:58.751 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 23:00:58.770 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-08-06 23:00:58.992 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 23:00:59.188 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 23:00:59.312 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 23:00:59.656 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 23:00:59.912 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 23:01:02.194 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 23:01:02.201 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 23:01:02.203 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 23:01:02.204 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 23:01:02.205 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 23:01:02.207 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 23:01:02.208 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 23:01:02.209 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 23:01:02.210 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 23:01:02.215 [main] DEBUG org.hibernate.SQL - 
    
    create table lead_views (
       id bigint generated by default as identity,
        created_by bigint,
        created_time timestamp,
        ip_address varchar(45),
        lead_id bigint not null,
        updated_by bigint,
        updated_time timestamp,
        user_agent varchar(500),
        user_id bigint,
        view_time timestamp not null,
        primary key (id)
    )
2025-08-06 23:01:02.231 [main] DEBUG org.hibernate.SQL - 
    
    create table leads (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time timestamp,
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_email varchar(100),
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        favorite_count int default 0 not null,
        industry_direction varchar(100),
        intended_area numeric(10,2),
        intended_region varchar(100),
        investment_amount numeric(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time timestamp,
        rating varchar(10),
        rating_score integer,
        registered_capital numeric(15,2),
        status varchar(20) not null,
        primary key (id)
    )
2025-08-06 23:01:02.238 [main] DEBUG org.hibernate.SQL - 
    
    create table permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    )
2025-08-06 23:01:02.241 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_histories (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        change_description varchar(500),
        change_reason varchar(50) not null,
        current_rating varchar(10) not null,
        current_score integer not null,
        lead_id bigint not null,
        operator_id bigint,
        operator_name varchar(100),
        previous_rating varchar(10),
        previous_score integer,
        rating_details TEXT,
        rating_time timestamp not null,
        rating_version varchar(20),
        primary key (id)
    )
2025-08-06 23:01:02.245 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_rules (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        calculation_method varchar(50) not null,
        config_params TEXT,
        description varchar(500),
        is_enabled boolean not null,
        rule_name varchar(100) not null,
        rule_type varchar(50) not null,
        sort_order integer not null,
        weight numeric(5,2) not null,
        primary key (id)
    )
2025-08-06 23:01:02.249 [main] DEBUG org.hibernate.SQL - 
    
    create table role_permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    )
2025-08-06 23:01:02.252 [main] DEBUG org.hibernate.SQL - 
    
    create table roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    )
2025-08-06 23:01:02.255 [main] DEBUG org.hibernate.SQL - 
    
    create table user_roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-08-06 23:01:02.257 [main] DEBUG org.hibernate.SQL - 
    
    create table users (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time timestamp,
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    )
2025-08-06 23:01:02.261 [main] DEBUG org.hibernate.SQL - 
    
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)
2025-08-06 23:01:02.266 [main] DEBUG org.hibernate.SQL - 
    
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)
2025-08-06 23:01:02.268 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-08-06 23:01:02.269 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)
2025-08-06 23:01:02.272 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-08-06 23:01:02.274 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-08-06 23:01:02.288 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-08-06 23:01:02.290 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-06 23:01:02.293 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-06 23:01:02.300 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-06 23:01:02.324 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 23:01:03.021 [main] INFO  com.leadexchange.config.RedisConfig - RedisTemplate配置完成
2025-08-06 23:01:03.900 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - JSqlParser is in classpath. If applicable JSqlParser will be used.
2025-08-06 23:01:04.335 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
2025-08-06 23:01:04.359 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 23:01:04.360 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2025-08-06 23:01:04.361 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 23:01:04.366 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 23:01:04.368 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 23:01:04.371 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 23:01:04.374 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 23:01:04.375 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 23:01:04.377 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 23:01:04.380 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 23:01:04.382 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 23:01:04.388 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 23:01:04.392 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 23:01:04.397 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 23:01:04.424 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 23:01:04.477 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:39)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 34 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:107)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:95)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1086)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:97)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:87)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:87)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:365)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:231)
	at org.springframework.data.util.Lazy.get(Lazy.java:115)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:96)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:119)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:259)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:93)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:103)
	... 66 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'publisherId' found for type 'Lead'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:91)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:438)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:414)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:367)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:349)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:332)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:250)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:251)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:384)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:385)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:96)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:89)
	... 70 common frames omitted
2025-08-06 23:02:27.638 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 21864 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 23:02:27.648 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 23:02:27.648 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 23:02:31.332 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:02:31.332 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 23:02:32.001 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 640 ms. Found 3 JPA repository interfaces.
2025-08-06 23:02:33.397 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:02:33.397 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 23:02:33.477 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:02:33.484 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:02:33.490 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:02:33.491 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:02:33.493 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 90 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 23:02:33.524 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:02:33.529 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-06 23:02:33.595 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.elasticsearch.LeadSearchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:02:33.597 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:02:33.598 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:02:33.601 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:02:33.603 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:02:33.604 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:02:33.605 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 48 ms. Found 0 Redis repository interfaces.
2025-08-06 23:02:35.414 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 23:02:35.453 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 23:02:35.454 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 23:02:35.700 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 23:02:35.700 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 7810 ms
2025-08-06 23:02:35.957 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 23:02:36.315 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 23:02:36.335 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-08-06 23:02:36.529 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 23:02:36.682 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 23:02:36.792 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 23:02:37.065 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 23:02:37.307 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 23:02:38.946 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 23:02:38.951 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 23:02:38.957 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 23:02:38.958 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 23:02:38.959 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 23:02:38.961 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 23:02:38.962 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 23:02:38.963 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 23:02:38.965 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 23:02:38.972 [main] DEBUG org.hibernate.SQL - 
    
    create table lead_views (
       id bigint generated by default as identity,
        created_by bigint,
        created_time timestamp,
        ip_address varchar(45),
        lead_id bigint not null,
        updated_by bigint,
        updated_time timestamp,
        user_agent varchar(500),
        user_id bigint,
        view_time timestamp not null,
        primary key (id)
    )
2025-08-06 23:02:38.995 [main] DEBUG org.hibernate.SQL - 
    
    create table leads (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time timestamp,
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_email varchar(100),
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        favorite_count int default 0 not null,
        industry_direction varchar(100),
        intended_area numeric(10,2),
        intended_region varchar(100),
        investment_amount numeric(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time timestamp,
        rating varchar(10),
        rating_score integer,
        registered_capital numeric(15,2),
        status varchar(20) not null,
        primary key (id)
    )
2025-08-06 23:02:39.003 [main] DEBUG org.hibernate.SQL - 
    
    create table permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    )
2025-08-06 23:02:39.007 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_histories (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        change_description varchar(500),
        change_reason varchar(50) not null,
        current_rating varchar(10) not null,
        current_score integer not null,
        lead_id bigint not null,
        operator_id bigint,
        operator_name varchar(100),
        previous_rating varchar(10),
        previous_score integer,
        rating_details TEXT,
        rating_time timestamp not null,
        rating_version varchar(20),
        primary key (id)
    )
2025-08-06 23:02:39.013 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_rules (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        calculation_method varchar(50) not null,
        config_params TEXT,
        description varchar(500),
        is_enabled boolean not null,
        rule_name varchar(100) not null,
        rule_type varchar(50) not null,
        sort_order integer not null,
        weight numeric(5,2) not null,
        primary key (id)
    )
2025-08-06 23:02:39.017 [main] DEBUG org.hibernate.SQL - 
    
    create table role_permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    )
2025-08-06 23:02:39.019 [main] DEBUG org.hibernate.SQL - 
    
    create table roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    )
2025-08-06 23:02:39.023 [main] DEBUG org.hibernate.SQL - 
    
    create table user_roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-08-06 23:02:39.026 [main] DEBUG org.hibernate.SQL - 
    
    create table users (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time timestamp,
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    )
2025-08-06 23:02:39.029 [main] DEBUG org.hibernate.SQL - 
    
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)
2025-08-06 23:02:39.033 [main] DEBUG org.hibernate.SQL - 
    
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)
2025-08-06 23:02:39.036 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-08-06 23:02:39.038 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)
2025-08-06 23:02:39.040 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-08-06 23:02:39.042 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-08-06 23:02:39.061 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-08-06 23:02:39.065 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-06 23:02:39.069 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-06 23:02:39.078 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-06 23:02:39.114 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 23:02:39.804 [main] INFO  com.leadexchange.config.RedisConfig - RedisTemplate配置完成
2025-08-06 23:02:40.430 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - JSqlParser is in classpath. If applicable JSqlParser will be used.
2025-08-06 23:02:40.844 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
2025-08-06 23:02:40.868 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 23:02:40.870 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2025-08-06 23:02:40.872 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 23:02:40.876 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 23:02:40.878 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 23:02:40.881 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 23:02:40.883 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 23:02:40.885 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 23:02:40.887 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 23:02:40.890 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 23:02:40.892 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 23:02:40.897 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 23:02:40.901 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 23:02:40.907 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 23:02:40.932 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 23:02:40.996 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:39)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 34 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long); Reason: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:107)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:95)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1086)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:97)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:87)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:87)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:365)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:231)
	at org.springframework.data.util.Lazy.get(Lazy.java:115)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract long com.leadexchange.repository.lead.LeadRepository.countByPublisherId(java.lang.Long)! No property 'publisherId' found for type 'Lead'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:96)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:119)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:259)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:93)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:103)
	... 66 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'publisherId' found for type 'Lead'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:91)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:438)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:414)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:367)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:349)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:332)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:250)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:251)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:384)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:385)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:96)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:89)
	... 70 common frames omitted
2025-08-06 23:04:38.491 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 10348 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 23:04:38.496 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 23:04:38.498 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 23:04:40.272 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:04:40.272 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 23:04:40.522 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 232 ms. Found 3 JPA repository interfaces.
2025-08-06 23:04:41.235 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:04:41.240 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 23:04:41.295 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:04:41.299 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:04:41.302 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:04:41.303 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:04:41.304 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 64 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 23:04:41.331 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:04:41.334 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-06 23:04:41.402 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.elasticsearch.LeadSearchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:04:41.405 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:04:41.406 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:04:41.408 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:04:41.409 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:04:41.411 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:04:41.412 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 49 ms. Found 0 Redis repository interfaces.
2025-08-06 23:04:44.372 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 23:04:44.436 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 23:04:44.440 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 23:04:44.932 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 23:04:44.932 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 6281 ms
2025-08-06 23:04:45.381 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 23:04:46.512 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 23:04:46.553 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-08-06 23:04:47.009 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 23:04:47.352 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 23:04:47.602 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 23:04:48.262 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 23:04:48.663 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 23:04:52.203 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 23:04:52.216 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 23:04:52.243 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 23:04:52.249 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 23:04:52.259 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 23:04:52.271 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 23:04:52.277 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 23:04:52.281 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 23:04:52.283 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 23:04:52.296 [main] DEBUG org.hibernate.SQL - 
    
    create table lead_views (
       id bigint generated by default as identity,
        created_by bigint,
        created_time timestamp,
        ip_address varchar(45),
        lead_id bigint not null,
        updated_by bigint,
        updated_time timestamp,
        user_agent varchar(500),
        user_id bigint,
        view_time timestamp not null,
        primary key (id)
    )
2025-08-06 23:04:52.333 [main] DEBUG org.hibernate.SQL - 
    
    create table leads (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time timestamp,
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_email varchar(100),
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        favorite_count int default 0 not null,
        industry_direction varchar(100),
        intended_area numeric(10,2),
        intended_region varchar(100),
        investment_amount numeric(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time timestamp,
        rating varchar(10),
        rating_score integer,
        registered_capital numeric(15,2),
        status varchar(20) not null,
        primary key (id)
    )
2025-08-06 23:04:52.344 [main] DEBUG org.hibernate.SQL - 
    
    create table permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    )
2025-08-06 23:04:52.351 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_histories (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        change_description varchar(500),
        change_reason varchar(50) not null,
        current_rating varchar(10) not null,
        current_score integer not null,
        lead_id bigint not null,
        operator_id bigint,
        operator_name varchar(100),
        previous_rating varchar(10),
        previous_score integer,
        rating_details TEXT,
        rating_time timestamp not null,
        rating_version varchar(20),
        primary key (id)
    )
2025-08-06 23:04:52.355 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_rules (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        calculation_method varchar(50) not null,
        config_params TEXT,
        description varchar(500),
        is_enabled boolean not null,
        rule_name varchar(100) not null,
        rule_type varchar(50) not null,
        sort_order integer not null,
        weight numeric(5,2) not null,
        primary key (id)
    )
2025-08-06 23:04:52.363 [main] DEBUG org.hibernate.SQL - 
    
    create table role_permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    )
2025-08-06 23:04:52.367 [main] DEBUG org.hibernate.SQL - 
    
    create table roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    )
2025-08-06 23:04:52.373 [main] DEBUG org.hibernate.SQL - 
    
    create table user_roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-08-06 23:04:52.380 [main] DEBUG org.hibernate.SQL - 
    
    create table users (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time timestamp,
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    )
2025-08-06 23:04:52.387 [main] DEBUG org.hibernate.SQL - 
    
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)
2025-08-06 23:04:52.397 [main] DEBUG org.hibernate.SQL - 
    
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)
2025-08-06 23:04:52.400 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-08-06 23:04:52.403 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)
2025-08-06 23:04:52.408 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-08-06 23:04:52.412 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-08-06 23:04:52.437 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-08-06 23:04:52.444 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-06 23:04:52.449 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-06 23:04:52.464 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-06 23:04:52.504 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 23:04:53.470 [main] INFO  com.leadexchange.config.RedisConfig - RedisTemplate配置完成
2025-08-06 23:04:54.264 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - JSqlParser is in classpath. If applicable JSqlParser will be used.
2025-08-06 23:04:55.086 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime); Reason: Failed to create query for method public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime)! No property 'createdTime' found for type 'Lead'; Did you mean 'createTime'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime)! No property 'createdTime' found for type 'Lead'; Did you mean 'createTime'
2025-08-06 23:04:55.200 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 23:04:55.208 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2025-08-06 23:04:55.215 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 23:04:55.232 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 23:04:55.250 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 23:04:55.271 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 23:04:55.349 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 23:04:55.380 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 23:04:55.391 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 23:04:55.409 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 23:04:55.434 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 23:04:55.459 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 23:04:55.484 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 23:04:55.497 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 23:04:55.583 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 23:04:55.758 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime); Reason: Failed to create query for method public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime)! No property 'createdTime' found for type 'Lead'; Did you mean 'createTime'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime)! No property 'createdTime' found for type 'Lead'; Did you mean 'createTime'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:39)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime); Reason: Failed to create query for method public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime)! No property 'createdTime' found for type 'Lead'; Did you mean 'createTime'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime)! No property 'createdTime' found for type 'Lead'; Did you mean 'createTime'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime); Reason: Failed to create query for method public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime)! No property 'createdTime' found for type 'Lead'; Did you mean 'createTime'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime)! No property 'createdTime' found for type 'Lead'; Did you mean 'createTime'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 34 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime); Reason: Failed to create query for method public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime)! No property 'createdTime' found for type 'Lead'; Did you mean 'createTime'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime)! No property 'createdTime' found for type 'Lead'; Did you mean 'createTime'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:107)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:95)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1086)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:97)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:87)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:87)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:365)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:231)
	at org.springframework.data.util.Lazy.get(Lazy.java:115)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime)! No property 'createdTime' found for type 'Lead'; Did you mean 'createTime'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:96)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:119)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:259)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:93)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:103)
	... 66 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'createdTime' found for type 'Lead'; Did you mean 'createTime'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:91)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:438)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:414)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:367)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:349)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:332)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:250)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:251)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:384)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:385)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:96)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:89)
	... 70 common frames omitted
2025-08-06 23:06:34.755 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 14840 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 23:06:34.763 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 23:06:34.764 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 23:06:36.857 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:06:36.857 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 23:06:37.116 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 236 ms. Found 3 JPA repository interfaces.
2025-08-06 23:06:37.785 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:06:37.785 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 23:06:37.837 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:06:37.842 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:06:37.848 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:06:37.848 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:06:37.851 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 63 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 23:06:37.875 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:06:37.879 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-06 23:06:37.923 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.elasticsearch.LeadSearchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:06:37.928 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:06:37.928 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:06:37.928 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:06:37.928 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:06:37.928 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:06:37.934 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
2025-08-06 23:06:39.640 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 23:06:39.673 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 23:06:39.674 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 23:06:39.946 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 23:06:39.946 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4949 ms
2025-08-06 23:06:40.202 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 23:06:40.567 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 23:06:40.586 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-08-06 23:06:40.780 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 23:06:40.934 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 23:06:41.040 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 23:06:41.309 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 23:06:41.503 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 23:06:43.035 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 23:06:43.040 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 23:06:43.043 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 23:06:43.044 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 23:06:43.045 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 23:06:43.047 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 23:06:43.048 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 23:06:43.049 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 23:06:43.051 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 23:06:43.058 [main] DEBUG org.hibernate.SQL - 
    
    create table lead_views (
       id bigint generated by default as identity,
        created_by bigint,
        created_time timestamp,
        ip_address varchar(45),
        lead_id bigint not null,
        updated_by bigint,
        updated_time timestamp,
        user_agent varchar(500),
        user_id bigint,
        view_time timestamp not null,
        primary key (id)
    )
2025-08-06 23:06:43.080 [main] DEBUG org.hibernate.SQL - 
    
    create table leads (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time timestamp,
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_email varchar(100),
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        favorite_count int default 0 not null,
        industry_direction varchar(100),
        intended_area numeric(10,2),
        intended_region varchar(100),
        investment_amount numeric(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time timestamp,
        rating varchar(10),
        rating_score integer,
        registered_capital numeric(15,2),
        status varchar(20) not null,
        primary key (id)
    )
2025-08-06 23:06:43.093 [main] DEBUG org.hibernate.SQL - 
    
    create table permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    )
2025-08-06 23:06:43.102 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_histories (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        change_description varchar(500),
        change_reason varchar(50) not null,
        current_rating varchar(10) not null,
        current_score integer not null,
        lead_id bigint not null,
        operator_id bigint,
        operator_name varchar(100),
        previous_rating varchar(10),
        previous_score integer,
        rating_details TEXT,
        rating_time timestamp not null,
        rating_version varchar(20),
        primary key (id)
    )
2025-08-06 23:06:43.110 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_rules (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        calculation_method varchar(50) not null,
        config_params TEXT,
        description varchar(500),
        is_enabled boolean not null,
        rule_name varchar(100) not null,
        rule_type varchar(50) not null,
        sort_order integer not null,
        weight numeric(5,2) not null,
        primary key (id)
    )
2025-08-06 23:06:43.115 [main] DEBUG org.hibernate.SQL - 
    
    create table role_permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    )
2025-08-06 23:06:43.119 [main] DEBUG org.hibernate.SQL - 
    
    create table roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    )
2025-08-06 23:06:43.123 [main] DEBUG org.hibernate.SQL - 
    
    create table user_roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-08-06 23:06:43.126 [main] DEBUG org.hibernate.SQL - 
    
    create table users (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time timestamp,
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    )
2025-08-06 23:06:43.132 [main] DEBUG org.hibernate.SQL - 
    
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)
2025-08-06 23:06:43.136 [main] DEBUG org.hibernate.SQL - 
    
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)
2025-08-06 23:06:43.140 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-08-06 23:06:43.140 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)
2025-08-06 23:06:43.140 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-08-06 23:06:43.147 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-08-06 23:06:43.166 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-08-06 23:06:43.171 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-06 23:06:43.175 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-06 23:06:43.190 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-06 23:06:43.220 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 23:06:43.925 [main] INFO  com.leadexchange.config.RedisConfig - RedisTemplate配置完成
2025-08-06 23:06:44.974 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - JSqlParser is in classpath. If applicable JSqlParser will be used.
2025-08-06 23:06:45.792 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime); Reason: Failed to create query for method public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime)! No property 'createdTime' found for type 'Lead'; Did you mean 'createTime'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime)! No property 'createdTime' found for type 'Lead'; Did you mean 'createTime'
2025-08-06 23:06:45.825 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 23:06:45.828 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2025-08-06 23:06:45.831 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 23:06:45.836 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 23:06:45.841 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 23:06:45.848 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 23:06:45.853 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 23:06:45.858 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 23:06:45.866 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 23:06:45.872 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 23:06:45.876 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 23:06:45.885 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 23:06:45.892 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 23:06:45.905 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 23:06:45.941 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 23:06:46.020 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime); Reason: Failed to create query for method public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime)! No property 'createdTime' found for type 'Lead'; Did you mean 'createTime'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime)! No property 'createdTime' found for type 'Lead'; Did you mean 'createTime'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:39)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'leadRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime); Reason: Failed to create query for method public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime)! No property 'createdTime' found for type 'Lead'; Did you mean 'createTime'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime)! No property 'createdTime' found for type 'Lead'; Did you mean 'createTime'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'leadRepository' defined in com.leadexchange.repository.lead.LeadRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime); Reason: Failed to create query for method public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime)! No property 'createdTime' found for type 'Lead'; Did you mean 'createTime'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime)! No property 'createdTime' found for type 'Lead'; Did you mean 'createTime'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 34 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime); Reason: Failed to create query for method public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime)! No property 'createdTime' found for type 'Lead'; Did you mean 'createTime'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime)! No property 'createdTime' found for type 'Lead'; Did you mean 'createTime'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:107)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:95)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1086)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:97)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:87)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:87)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:365)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:231)
	at org.springframework.data.util.Lazy.get(Lazy.java:115)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.leadexchange.repository.lead.LeadRepository.findByCreatedTimeBetween(java.time.LocalDateTime,java.time.LocalDateTime)! No property 'createdTime' found for type 'Lead'; Did you mean 'createTime'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:96)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:119)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:259)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:93)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:103)
	... 66 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'createdTime' found for type 'Lead'; Did you mean 'createTime'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:91)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:438)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:414)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:367)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:349)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:332)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:250)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:251)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:384)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:385)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:96)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:89)
	... 70 common frames omitted
2025-08-06 23:08:57.762 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 12816 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 23:08:57.770 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 23:08:57.771 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 23:09:01.720 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:09:01.722 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 23:09:02.446 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 696 ms. Found 3 JPA repository interfaces.
2025-08-06 23:09:04.006 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:09:04.014 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 23:09:04.093 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:09:04.098 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:09:04.104 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:09:04.104 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:09:04.109 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 93 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 23:09:04.135 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:09:04.140 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-06 23:09:04.202 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.elasticsearch.LeadSearchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:09:04.209 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:09:04.212 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:09:04.212 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:09:04.214 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:09:04.216 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:09:04.217 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 48 ms. Found 0 Redis repository interfaces.
2025-08-06 23:09:07.435 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 23:09:07.590 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 23:09:07.616 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 23:09:08.144 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 23:09:08.144 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 10142 ms
2025-08-06 23:09:08.693 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 23:09:09.504 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 23:09:09.580 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-08-06 23:09:09.914 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 23:09:10.195 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 23:09:10.393 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 23:09:11.007 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 23:09:11.400 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 23:09:14.772 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 23:09:14.781 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 23:09:14.786 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 23:09:14.786 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 23:09:14.786 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 23:09:14.786 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 23:09:14.791 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 23:09:14.791 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 23:09:14.791 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 23:09:14.797 [main] DEBUG org.hibernate.SQL - 
    
    create table lead_views (
       id bigint generated by default as identity,
        created_by bigint,
        created_time timestamp,
        ip_address varchar(45),
        lead_id bigint not null,
        updated_by bigint,
        updated_time timestamp,
        user_agent varchar(500),
        user_id bigint,
        view_time timestamp not null,
        primary key (id)
    )
2025-08-06 23:09:14.828 [main] DEBUG org.hibernate.SQL - 
    
    create table leads (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time timestamp,
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_email varchar(100),
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        favorite_count int default 0 not null,
        industry_direction varchar(100),
        intended_area numeric(10,2),
        intended_region varchar(100),
        investment_amount numeric(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time timestamp,
        rating varchar(10),
        rating_score integer,
        registered_capital numeric(15,2),
        status varchar(20) not null,
        primary key (id)
    )
2025-08-06 23:09:14.843 [main] DEBUG org.hibernate.SQL - 
    
    create table permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    )
2025-08-06 23:09:14.848 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_histories (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        change_description varchar(500),
        change_reason varchar(50) not null,
        current_rating varchar(10) not null,
        current_score integer not null,
        lead_id bigint not null,
        operator_id bigint,
        operator_name varchar(100),
        previous_rating varchar(10),
        previous_score integer,
        rating_details TEXT,
        rating_time timestamp not null,
        rating_version varchar(20),
        primary key (id)
    )
2025-08-06 23:09:14.860 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_rules (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        calculation_method varchar(50) not null,
        config_params TEXT,
        description varchar(500),
        is_enabled boolean not null,
        rule_name varchar(100) not null,
        rule_type varchar(50) not null,
        sort_order integer not null,
        weight numeric(5,2) not null,
        primary key (id)
    )
2025-08-06 23:09:14.866 [main] DEBUG org.hibernate.SQL - 
    
    create table role_permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    )
2025-08-06 23:09:14.870 [main] DEBUG org.hibernate.SQL - 
    
    create table roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    )
2025-08-06 23:09:14.876 [main] DEBUG org.hibernate.SQL - 
    
    create table user_roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-08-06 23:09:14.887 [main] DEBUG org.hibernate.SQL - 
    
    create table users (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time timestamp,
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    )
2025-08-06 23:09:14.899 [main] DEBUG org.hibernate.SQL - 
    
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)
2025-08-06 23:09:14.907 [main] DEBUG org.hibernate.SQL - 
    
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)
2025-08-06 23:09:14.910 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-08-06 23:09:14.914 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)
2025-08-06 23:09:14.919 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-08-06 23:09:14.922 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-08-06 23:09:14.953 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-08-06 23:09:14.961 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-06 23:09:14.975 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-06 23:09:15.006 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-06 23:09:15.082 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 23:09:17.330 [main] INFO  com.leadexchange.config.RedisConfig - RedisTemplate配置完成
2025-08-06 23:09:19.794 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - JSqlParser is in classpath. If applicable JSqlParser will be used.
2025-08-06 23:09:21.274 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'ratingEngineService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ratingEngineServiceImpl': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'leadServiceImpl': Requested bean is currently in creation: Is there an unresolvable circular reference?
2025-08-06 23:09:21.322 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 23:09:21.325 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2025-08-06 23:09:21.325 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 23:09:21.333 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 23:09:21.338 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 23:09:21.343 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 23:09:21.343 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 23:09:21.348 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 23:09:21.351 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 23:09:21.353 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 23:09:21.359 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 23:09:21.368 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 23:09:21.374 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 23:09:21.379 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 23:09:21.420 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 23:09:21.506 [main] ERROR o.s.b.diagnostics.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

   leadController (field private com.leadexchange.service.lead.LeadService com.leadexchange.controller.lead.LeadController.leadService)
┌─────┐
|  leadServiceImpl (field private com.leadexchange.service.rating.RatingEngineService com.leadexchange.service.lead.impl.LeadServiceImpl.ratingEngineService)
↑     ↓
|  ratingEngineServiceImpl (field private com.leadexchange.service.lead.LeadService com.leadexchange.service.rating.impl.RatingEngineServiceImpl.leadService)
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2025-08-06 23:12:16.881 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 10272 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 23:12:16.891 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 23:12:16.892 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 23:12:19.042 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:12:19.043 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 23:12:19.717 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 649 ms. Found 3 JPA repository interfaces.
2025-08-06 23:12:21.212 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:12:21.220 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 23:12:21.320 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:12:21.327 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:12:21.332 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:12:21.334 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:12:21.336 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 112 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 23:12:21.391 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:12:21.395 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-06 23:12:21.480 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.elasticsearch.LeadSearchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:12:21.483 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:12:21.486 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:12:21.489 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:12:21.491 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:12:21.496 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:12:21.498 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 67 ms. Found 0 Redis repository interfaces.
2025-08-06 23:12:24.369 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 23:12:24.438 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 23:12:24.439 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 23:12:24.901 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 23:12:24.962 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 7814 ms
2025-08-06 23:12:25.520 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 23:12:26.082 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 23:12:26.107 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-08-06 23:12:26.338 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 23:12:26.634 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 23:12:26.819 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 23:12:27.254 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 23:12:27.484 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 23:12:29.047 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 23:12:29.054 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 23:12:29.057 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 23:12:29.060 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 23:12:29.061 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 23:12:29.063 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 23:12:29.064 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 23:12:29.065 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 23:12:29.067 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 23:12:29.076 [main] DEBUG org.hibernate.SQL - 
    
    create table lead_views (
       id bigint generated by default as identity,
        created_by bigint,
        created_time timestamp,
        ip_address varchar(45),
        lead_id bigint not null,
        updated_by bigint,
        updated_time timestamp,
        user_agent varchar(500),
        user_id bigint,
        view_time timestamp not null,
        primary key (id)
    )
2025-08-06 23:12:29.097 [main] DEBUG org.hibernate.SQL - 
    
    create table leads (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time timestamp,
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_email varchar(100),
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        favorite_count int default 0 not null,
        industry_direction varchar(100),
        intended_area numeric(10,2),
        intended_region varchar(100),
        investment_amount numeric(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time timestamp,
        rating varchar(10),
        rating_score integer,
        registered_capital numeric(15,2),
        status varchar(20) not null,
        primary key (id)
    )
2025-08-06 23:12:29.105 [main] DEBUG org.hibernate.SQL - 
    
    create table permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    )
2025-08-06 23:12:29.108 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_histories (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        change_description varchar(500),
        change_reason varchar(50) not null,
        current_rating varchar(10) not null,
        current_score integer not null,
        lead_id bigint not null,
        operator_id bigint,
        operator_name varchar(100),
        previous_rating varchar(10),
        previous_score integer,
        rating_details TEXT,
        rating_time timestamp not null,
        rating_version varchar(20),
        primary key (id)
    )
2025-08-06 23:12:29.112 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_rules (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        calculation_method varchar(50) not null,
        config_params TEXT,
        description varchar(500),
        is_enabled boolean not null,
        rule_name varchar(100) not null,
        rule_type varchar(50) not null,
        sort_order integer not null,
        weight numeric(5,2) not null,
        primary key (id)
    )
2025-08-06 23:12:29.118 [main] DEBUG org.hibernate.SQL - 
    
    create table role_permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    )
2025-08-06 23:12:29.121 [main] DEBUG org.hibernate.SQL - 
    
    create table roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    )
2025-08-06 23:12:29.125 [main] DEBUG org.hibernate.SQL - 
    
    create table user_roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-08-06 23:12:29.129 [main] DEBUG org.hibernate.SQL - 
    
    create table users (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time timestamp,
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    )
2025-08-06 23:12:29.134 [main] DEBUG org.hibernate.SQL - 
    
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)
2025-08-06 23:12:29.140 [main] DEBUG org.hibernate.SQL - 
    
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)
2025-08-06 23:12:29.143 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-08-06 23:12:29.144 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)
2025-08-06 23:12:29.147 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-08-06 23:12:29.149 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-08-06 23:12:29.166 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-08-06 23:12:29.170 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-06 23:12:29.173 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-06 23:12:29.184 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-06 23:12:29.217 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 23:12:29.944 [main] INFO  com.leadexchange.config.RedisConfig - RedisTemplate配置完成
2025-08-06 23:12:30.804 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - JSqlParser is in classpath. If applicable JSqlParser will be used.
2025-08-06 23:12:31.444 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'ratingEngineService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ratingEngineServiceImpl': Unsatisfied dependency expressed through field 'ratingRuleService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ratingRuleServiceImpl': Unsatisfied dependency expressed through field 'ratingRuleRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.leadexchange.repository.rating.RatingRuleRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-08-06 23:12:31.476 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 23:12:31.478 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2025-08-06 23:12:31.479 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 23:12:31.484 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 23:12:31.487 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 23:12:31.490 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 23:12:31.493 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 23:12:31.495 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 23:12:31.499 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 23:12:31.503 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 23:12:31.505 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 23:12:31.511 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 23:12:31.515 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 23:12:31.521 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 23:12:31.547 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 23:12:31.608 [main] ERROR o.s.b.diagnostics.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field ratingRuleRepository in com.leadexchange.service.rating.impl.RatingRuleServiceImpl required a bean of type 'com.leadexchange.repository.rating.RatingRuleRepository' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'com.leadexchange.repository.rating.RatingRuleRepository' in your configuration.

2025-08-06 23:14:08.695 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 7696 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 23:14:08.703 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 23:14:08.704 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 23:14:12.091 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:14:12.092 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 23:14:12.570 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 454 ms. Found 5 JPA repository interfaces.
2025-08-06 23:14:13.596 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:14:13.602 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 23:14:13.664 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:14:13.666 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:14:13.667 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:14:13.668 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:14:13.669 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 64 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 23:14:13.697 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:14:13.700 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-06 23:14:13.763 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.elasticsearch.LeadSearchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:14:13.765 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:14:13.766 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:14:13.767 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:14:13.768 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:14:13.770 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:14:13.770 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 45 ms. Found 0 Redis repository interfaces.
2025-08-06 23:14:15.352 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 23:14:15.378 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 23:14:15.379 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 23:14:15.625 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 23:14:15.625 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 6660 ms
2025-08-06 23:14:15.890 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 23:14:16.370 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 23:14:16.395 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-08-06 23:14:16.620 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 23:14:16.833 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 23:14:17.014 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 23:14:17.437 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 23:14:17.675 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 23:14:19.218 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 23:14:19.228 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 23:14:19.231 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 23:14:19.232 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 23:14:19.234 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 23:14:19.236 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 23:14:19.237 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 23:14:19.239 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 23:14:19.241 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 23:14:19.250 [main] DEBUG org.hibernate.SQL - 
    
    create table lead_views (
       id bigint generated by default as identity,
        created_by bigint,
        created_time timestamp,
        ip_address varchar(45),
        lead_id bigint not null,
        updated_by bigint,
        updated_time timestamp,
        user_agent varchar(500),
        user_id bigint,
        view_time timestamp not null,
        primary key (id)
    )
2025-08-06 23:14:19.269 [main] DEBUG org.hibernate.SQL - 
    
    create table leads (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time timestamp,
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_email varchar(100),
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        favorite_count int default 0 not null,
        industry_direction varchar(100),
        intended_area numeric(10,2),
        intended_region varchar(100),
        investment_amount numeric(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time timestamp,
        rating varchar(10),
        rating_score integer,
        registered_capital numeric(15,2),
        status varchar(20) not null,
        primary key (id)
    )
2025-08-06 23:14:19.280 [main] DEBUG org.hibernate.SQL - 
    
    create table permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    )
2025-08-06 23:14:19.285 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_histories (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        change_description varchar(500),
        change_reason varchar(50) not null,
        current_rating varchar(10) not null,
        current_score integer not null,
        lead_id bigint not null,
        operator_id bigint,
        operator_name varchar(100),
        previous_rating varchar(10),
        previous_score integer,
        rating_details TEXT,
        rating_time timestamp not null,
        rating_version varchar(20),
        primary key (id)
    )
2025-08-06 23:14:19.290 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_rules (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        calculation_method varchar(50) not null,
        config_params TEXT,
        description varchar(500),
        is_enabled boolean not null,
        rule_name varchar(100) not null,
        rule_type varchar(50) not null,
        sort_order integer not null,
        weight numeric(5,2) not null,
        primary key (id)
    )
2025-08-06 23:14:19.294 [main] DEBUG org.hibernate.SQL - 
    
    create table role_permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    )
2025-08-06 23:14:19.297 [main] DEBUG org.hibernate.SQL - 
    
    create table roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    )
2025-08-06 23:14:19.300 [main] DEBUG org.hibernate.SQL - 
    
    create table user_roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-08-06 23:14:19.305 [main] DEBUG org.hibernate.SQL - 
    
    create table users (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time timestamp,
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    )
2025-08-06 23:14:19.313 [main] DEBUG org.hibernate.SQL - 
    
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)
2025-08-06 23:14:19.318 [main] DEBUG org.hibernate.SQL - 
    
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)
2025-08-06 23:14:19.318 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-08-06 23:14:19.318 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)
2025-08-06 23:14:19.323 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-08-06 23:14:19.325 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-08-06 23:14:19.342 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-08-06 23:14:19.346 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-06 23:14:19.351 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-06 23:14:19.361 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-06 23:14:19.395 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 23:14:20.377 [main] INFO  com.leadexchange.config.RedisConfig - RedisTemplate配置完成
2025-08-06 23:14:21.503 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - JSqlParser is in classpath. If applicable JSqlParser will be used.
2025-08-06 23:14:22.390 [main] ERROR org.hibernate.hql.internal.ast.ErrorTracker -  Invalid path: 'com.leadexchange.domain.rating.RatingRuleType.INFORMATION_COMPLETENESS'
2025-08-06 23:14:22.406 [main] ERROR org.hibernate.hql.internal.ast.ErrorTracker -  Invalid path: 'com.leadexchange.domain.rating.RatingRuleType.INFORMATION_COMPLETENESS'
org.hibernate.hql.internal.ast.InvalidPathException: Invalid path: 'com.leadexchange.domain.rating.RatingRuleType.INFORMATION_COMPLETENESS'
	at org.hibernate.hql.internal.ast.util.LiteralProcessor.lookupConstant(LiteralProcessor.java:111)
	at org.hibernate.hql.internal.ast.tree.DotNode.resolve(DotNode.java:218)
	at org.hibernate.hql.internal.ast.HqlSqlWalker.resolve(HqlSqlWalker.java:1066)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.expr(HqlSqlBaseWalker.java:1319)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.inRhs(HqlSqlBaseWalker.java:4967)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4602)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2180)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2105)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:841)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:635)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:112)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy2/jdk.proxy2.$Proxy188.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:90)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:66)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:51)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:169)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:253)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:93)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:103)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:95)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1086)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:97)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:87)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:87)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:365)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:231)
	at org.springframework.data.util.Lazy.get(Lazy.java:115)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:40)
2025-08-06 23:14:22.414 [main] ERROR org.hibernate.hql.internal.ast.ErrorTracker -  Invalid path: 'com.leadexchange.domain.rating.RatingRuleType.ENTERPRISE_SCALE'
2025-08-06 23:14:22.418 [main] ERROR org.hibernate.hql.internal.ast.ErrorTracker -  Invalid path: 'com.leadexchange.domain.rating.RatingRuleType.ENTERPRISE_SCALE'
org.hibernate.hql.internal.ast.InvalidPathException: Invalid path: 'com.leadexchange.domain.rating.RatingRuleType.ENTERPRISE_SCALE'
	at org.hibernate.hql.internal.ast.util.LiteralProcessor.lookupConstant(LiteralProcessor.java:111)
	at org.hibernate.hql.internal.ast.tree.DotNode.resolve(DotNode.java:218)
	at org.hibernate.hql.internal.ast.HqlSqlWalker.resolve(HqlSqlWalker.java:1066)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.expr(HqlSqlBaseWalker.java:1319)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.inRhs(HqlSqlBaseWalker.java:4967)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4602)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2180)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2105)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:841)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:635)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:112)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy2/jdk.proxy2.$Proxy188.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:90)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:66)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:51)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:169)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:253)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:93)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:103)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:95)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1086)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:97)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:87)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:87)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:365)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:231)
	at org.springframework.data.util.Lazy.get(Lazy.java:115)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:40)
2025-08-06 23:14:22.433 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'ratingEngineService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ratingEngineServiceImpl': Unsatisfied dependency expressed through field 'ratingRuleService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ratingRuleServiceImpl': Unsatisfied dependency expressed through field 'ratingRuleRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ratingRuleRepository' defined in com.leadexchange.repository.rating.RatingRuleRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.leadexchange.repository.rating.RatingRuleRepository.findExtendedRules(); Reason: Validation failed for query for method public abstract java.util.List com.leadexchange.repository.rating.RatingRuleRepository.findExtendedRules()!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.leadexchange.repository.rating.RatingRuleRepository.findExtendedRules()!
2025-08-06 23:14:22.486 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 23:14:22.488 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2025-08-06 23:14:22.491 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 23:14:22.501 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 23:14:22.508 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 23:14:22.515 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 23:14:22.519 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 23:14:22.522 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 23:14:22.524 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 23:14:22.529 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 23:14:22.534 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 23:14:22.544 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 23:14:22.550 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 23:14:22.558 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 23:14:22.601 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 23:14:22.669 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'ratingEngineService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ratingEngineServiceImpl': Unsatisfied dependency expressed through field 'ratingRuleService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ratingRuleServiceImpl': Unsatisfied dependency expressed through field 'ratingRuleRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ratingRuleRepository' defined in com.leadexchange.repository.rating.RatingRuleRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.leadexchange.repository.rating.RatingRuleRepository.findExtendedRules(); Reason: Validation failed for query for method public abstract java.util.List com.leadexchange.repository.rating.RatingRuleRepository.findExtendedRules()!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.leadexchange.repository.rating.RatingRuleRepository.findExtendedRules()!
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:40)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'ratingEngineService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ratingEngineServiceImpl': Unsatisfied dependency expressed through field 'ratingRuleService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ratingRuleServiceImpl': Unsatisfied dependency expressed through field 'ratingRuleRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ratingRuleRepository' defined in com.leadexchange.repository.rating.RatingRuleRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.leadexchange.repository.rating.RatingRuleRepository.findExtendedRules(); Reason: Validation failed for query for method public abstract java.util.List com.leadexchange.repository.rating.RatingRuleRepository.findExtendedRules()!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.leadexchange.repository.rating.RatingRuleRepository.findExtendedRules()!
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ratingEngineServiceImpl': Unsatisfied dependency expressed through field 'ratingRuleService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ratingRuleServiceImpl': Unsatisfied dependency expressed through field 'ratingRuleRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ratingRuleRepository' defined in com.leadexchange.repository.rating.RatingRuleRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.leadexchange.repository.rating.RatingRuleRepository.findExtendedRules(); Reason: Validation failed for query for method public abstract java.util.List com.leadexchange.repository.rating.RatingRuleRepository.findExtendedRules()!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.leadexchange.repository.rating.RatingRuleRepository.findExtendedRules()!
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 34 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ratingRuleServiceImpl': Unsatisfied dependency expressed through field 'ratingRuleRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ratingRuleRepository' defined in com.leadexchange.repository.rating.RatingRuleRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.leadexchange.repository.rating.RatingRuleRepository.findExtendedRules(); Reason: Validation failed for query for method public abstract java.util.List com.leadexchange.repository.rating.RatingRuleRepository.findExtendedRules()!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.leadexchange.repository.rating.RatingRuleRepository.findExtendedRules()!
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 48 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ratingRuleRepository' defined in com.leadexchange.repository.rating.RatingRuleRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.leadexchange.repository.rating.RatingRuleRepository.findExtendedRules(); Reason: Validation failed for query for method public abstract java.util.List com.leadexchange.repository.rating.RatingRuleRepository.findExtendedRules()!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.leadexchange.repository.rating.RatingRuleRepository.findExtendedRules()!
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 62 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.leadexchange.repository.rating.RatingRuleRepository.findExtendedRules(); Reason: Validation failed for query for method public abstract java.util.List com.leadexchange.repository.rating.RatingRuleRepository.findExtendedRules()!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.leadexchange.repository.rating.RatingRuleRepository.findExtendedRules()!
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:107)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:95)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1086)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:97)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:87)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:87)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:365)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:231)
	at org.springframework.data.util.Lazy.get(Lazy.java:115)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 72 common frames omitted
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.leadexchange.repository.rating.RatingRuleRepository.findExtendedRules()!
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:96)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:66)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:51)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:169)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:253)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:93)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:103)
	... 94 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: Invalid path: 'com.leadexchange.domain.rating.RatingRuleType.INFORMATION_COMPLETENESS' [SELECT r FROM com.leadexchange.domain.rating.RatingRule r WHERE r.ruleType NOT IN (com.leadexchange.domain.rating.RatingRuleType.INFORMATION_COMPLETENESS, com.leadexchange.domain.rating.RatingRuleType.ENTERPRISE_QUALIFICATION, com.leadexchange.domain.rating.RatingRuleType.ENTERPRISE_SCALE) AND r.isEnabled = true ORDER BY r.sortOrder]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:757)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy2/jdk.proxy2.$Proxy188.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:90)
	... 100 common frames omitted
Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: Invalid path: 'com.leadexchange.domain.rating.RatingRuleType.INFORMATION_COMPLETENESS' [SELECT r FROM com.leadexchange.domain.rating.RatingRule r WHERE r.ruleType NOT IN (com.leadexchange.domain.rating.RatingRuleType.INFORMATION_COMPLETENESS, com.leadexchange.domain.rating.RatingRuleType.ENTERPRISE_QUALIFICATION, com.leadexchange.domain.rating.RatingRuleType.ENTERPRISE_SCALE) AND r.isEnabled = true ORDER BY r.sortOrder]
	at org.hibernate.hql.internal.ast.QuerySyntaxException.convert(QuerySyntaxException.java:74)
	at org.hibernate.hql.internal.ast.ErrorTracker.throwQueryException(ErrorTracker.java:93)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:282)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:112)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748)
	... 106 common frames omitted
2025-08-06 23:16:35.406 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 11516 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 23:16:35.421 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 23:16:35.423 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 23:16:38.246 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:16:38.247 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 23:16:38.519 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 258 ms. Found 5 JPA repository interfaces.
2025-08-06 23:16:39.185 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:16:39.185 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 23:16:39.244 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:16:39.245 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:16:39.247 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:16:39.248 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:16:39.249 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 60 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 23:16:39.276 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:16:39.281 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-06 23:16:39.335 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.elasticsearch.LeadSearchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:16:39.339 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:16:39.340 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:16:39.342 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:16:39.343 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:16:39.345 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:16:39.345 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 43 ms. Found 0 Redis repository interfaces.
2025-08-06 23:16:40.750 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 23:16:40.780 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 23:16:40.780 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 23:16:41.031 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 23:16:41.031 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5363 ms
2025-08-06 23:16:41.339 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 23:16:41.709 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 23:16:41.734 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-08-06 23:16:41.946 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 23:16:42.101 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 23:16:42.223 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 23:16:42.528 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 23:16:42.814 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 23:16:44.465 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 23:16:44.470 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 23:16:44.476 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 23:16:44.478 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 23:16:44.479 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 23:16:44.481 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 23:16:44.482 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 23:16:44.483 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 23:16:44.486 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 23:16:44.492 [main] DEBUG org.hibernate.SQL - 
    
    create table lead_views (
       id bigint generated by default as identity,
        created_by bigint,
        created_time timestamp,
        ip_address varchar(45),
        lead_id bigint not null,
        updated_by bigint,
        updated_time timestamp,
        user_agent varchar(500),
        user_id bigint,
        view_time timestamp not null,
        primary key (id)
    )
2025-08-06 23:16:44.520 [main] DEBUG org.hibernate.SQL - 
    
    create table leads (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time timestamp,
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_email varchar(100),
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        favorite_count int default 0 not null,
        industry_direction varchar(100),
        intended_area numeric(10,2),
        intended_region varchar(100),
        investment_amount numeric(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time timestamp,
        rating varchar(10),
        rating_score integer,
        registered_capital numeric(15,2),
        status varchar(20) not null,
        primary key (id)
    )
2025-08-06 23:16:44.529 [main] DEBUG org.hibernate.SQL - 
    
    create table permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    )
2025-08-06 23:16:44.533 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_histories (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        change_description varchar(500),
        change_reason varchar(50) not null,
        current_rating varchar(10) not null,
        current_score integer not null,
        lead_id bigint not null,
        operator_id bigint,
        operator_name varchar(100),
        previous_rating varchar(10),
        previous_score integer,
        rating_details TEXT,
        rating_time timestamp not null,
        rating_version varchar(20),
        primary key (id)
    )
2025-08-06 23:16:44.537 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_rules (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        calculation_method varchar(50) not null,
        config_params TEXT,
        description varchar(500),
        is_enabled boolean not null,
        rule_name varchar(100) not null,
        rule_type varchar(50) not null,
        sort_order integer not null,
        weight numeric(5,2) not null,
        primary key (id)
    )
2025-08-06 23:16:44.541 [main] DEBUG org.hibernate.SQL - 
    
    create table role_permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    )
2025-08-06 23:16:44.545 [main] DEBUG org.hibernate.SQL - 
    
    create table roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    )
2025-08-06 23:16:44.550 [main] DEBUG org.hibernate.SQL - 
    
    create table user_roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-08-06 23:16:44.555 [main] DEBUG org.hibernate.SQL - 
    
    create table users (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time timestamp,
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    )
2025-08-06 23:16:44.562 [main] DEBUG org.hibernate.SQL - 
    
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)
2025-08-06 23:16:44.567 [main] DEBUG org.hibernate.SQL - 
    
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)
2025-08-06 23:16:44.569 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-08-06 23:16:44.571 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)
2025-08-06 23:16:44.573 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-08-06 23:16:44.576 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-08-06 23:16:44.596 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-08-06 23:16:44.601 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-06 23:16:44.606 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-06 23:16:44.617 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-06 23:16:44.653 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 23:16:45.352 [main] INFO  com.leadexchange.config.RedisConfig - RedisTemplate配置完成
2025-08-06 23:16:46.033 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - JSqlParser is in classpath. If applicable JSqlParser will be used.
2025-08-06 23:16:47.652 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'ratingEngineService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ratingEngineServiceImpl': Unsatisfied dependency expressed through field 'ratingRuleService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ratingRuleServiceImpl': Unsatisfied dependency expressed through field 'ratingRuleRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ratingRuleRepository' defined in com.leadexchange.repository.rating.RatingRuleRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract int com.leadexchange.repository.rating.RatingRuleRepository.batchUpdateEnabled(java.util.List,boolean); Reason: Validation failed for query for method public abstract int com.leadexchange.repository.rating.RatingRuleRepository.batchUpdateEnabled(java.util.List,boolean)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract int com.leadexchange.repository.rating.RatingRuleRepository.batchUpdateEnabled(java.util.List,boolean)!
2025-08-06 23:16:47.694 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 23:16:47.696 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2025-08-06 23:16:47.700 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 23:16:47.708 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 23:16:47.712 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 23:16:47.717 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 23:16:47.721 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 23:16:47.724 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 23:16:47.734 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 23:16:47.739 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 23:16:47.743 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 23:16:47.751 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 23:16:47.757 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 23:16:47.767 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 23:16:47.839 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 23:16:47.932 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadController': Unsatisfied dependency expressed through field 'leadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'ratingEngineService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ratingEngineServiceImpl': Unsatisfied dependency expressed through field 'ratingRuleService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ratingRuleServiceImpl': Unsatisfied dependency expressed through field 'ratingRuleRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ratingRuleRepository' defined in com.leadexchange.repository.rating.RatingRuleRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract int com.leadexchange.repository.rating.RatingRuleRepository.batchUpdateEnabled(java.util.List,boolean); Reason: Validation failed for query for method public abstract int com.leadexchange.repository.rating.RatingRuleRepository.batchUpdateEnabled(java.util.List,boolean)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract int com.leadexchange.repository.rating.RatingRuleRepository.batchUpdateEnabled(java.util.List,boolean)!
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:40)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leadServiceImpl': Unsatisfied dependency expressed through field 'ratingEngineService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ratingEngineServiceImpl': Unsatisfied dependency expressed through field 'ratingRuleService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ratingRuleServiceImpl': Unsatisfied dependency expressed through field 'ratingRuleRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ratingRuleRepository' defined in com.leadexchange.repository.rating.RatingRuleRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract int com.leadexchange.repository.rating.RatingRuleRepository.batchUpdateEnabled(java.util.List,boolean); Reason: Validation failed for query for method public abstract int com.leadexchange.repository.rating.RatingRuleRepository.batchUpdateEnabled(java.util.List,boolean)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract int com.leadexchange.repository.rating.RatingRuleRepository.batchUpdateEnabled(java.util.List,boolean)!
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ratingEngineServiceImpl': Unsatisfied dependency expressed through field 'ratingRuleService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ratingRuleServiceImpl': Unsatisfied dependency expressed through field 'ratingRuleRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ratingRuleRepository' defined in com.leadexchange.repository.rating.RatingRuleRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract int com.leadexchange.repository.rating.RatingRuleRepository.batchUpdateEnabled(java.util.List,boolean); Reason: Validation failed for query for method public abstract int com.leadexchange.repository.rating.RatingRuleRepository.batchUpdateEnabled(java.util.List,boolean)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract int com.leadexchange.repository.rating.RatingRuleRepository.batchUpdateEnabled(java.util.List,boolean)!
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 34 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ratingRuleServiceImpl': Unsatisfied dependency expressed through field 'ratingRuleRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ratingRuleRepository' defined in com.leadexchange.repository.rating.RatingRuleRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract int com.leadexchange.repository.rating.RatingRuleRepository.batchUpdateEnabled(java.util.List,boolean); Reason: Validation failed for query for method public abstract int com.leadexchange.repository.rating.RatingRuleRepository.batchUpdateEnabled(java.util.List,boolean)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract int com.leadexchange.repository.rating.RatingRuleRepository.batchUpdateEnabled(java.util.List,boolean)!
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 48 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ratingRuleRepository' defined in com.leadexchange.repository.rating.RatingRuleRepository defined in @EnableJpaRepositories declared on LeadExchangeApplication: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract int com.leadexchange.repository.rating.RatingRuleRepository.batchUpdateEnabled(java.util.List,boolean); Reason: Validation failed for query for method public abstract int com.leadexchange.repository.rating.RatingRuleRepository.batchUpdateEnabled(java.util.List,boolean)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract int com.leadexchange.repository.rating.RatingRuleRepository.batchUpdateEnabled(java.util.List,boolean)!
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 62 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract int com.leadexchange.repository.rating.RatingRuleRepository.batchUpdateEnabled(java.util.List,boolean); Reason: Validation failed for query for method public abstract int com.leadexchange.repository.rating.RatingRuleRepository.batchUpdateEnabled(java.util.List,boolean)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract int com.leadexchange.repository.rating.RatingRuleRepository.batchUpdateEnabled(java.util.List,boolean)!
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:107)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:95)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1086)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:97)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:87)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:87)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:365)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:231)
	at org.springframework.data.util.Lazy.get(Lazy.java:115)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 72 common frames omitted
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract int com.leadexchange.repository.rating.RatingRuleRepository.batchUpdateEnabled(java.util.List,boolean)!
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:96)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:66)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:51)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:169)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:253)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:93)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:103)
	... 94 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.QueryException: could not resolve property: enabled of: com.leadexchange.domain.rating.RatingRule [UPDATE com.leadexchange.domain.rating.RatingRule r SET r.enabled = :enabled WHERE r.id IN :ids]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:757)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy2/jdk.proxy2.$Proxy188.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:90)
	... 100 common frames omitted
Caused by: org.hibernate.QueryException: could not resolve property: enabled of: com.leadexchange.domain.rating.RatingRule [UPDATE com.leadexchange.domain.rating.RatingRule r SET r.enabled = :enabled WHERE r.id IN :ids]
	at org.hibernate.QueryException.generateQueryException(QueryException.java:120)
	at org.hibernate.QueryException.wrapWithQueryString(QueryException.java:103)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:220)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:112)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748)
	... 106 common frames omitted
Caused by: org.hibernate.QueryException: could not resolve property: enabled of: com.leadexchange.domain.rating.RatingRule
	at org.hibernate.persister.entity.AbstractPropertyMapping.propertyException(AbstractPropertyMapping.java:78)
	at org.hibernate.persister.entity.AbstractPropertyMapping.toType(AbstractPropertyMapping.java:72)
	at org.hibernate.persister.entity.AbstractEntityPersister.toType(AbstractEntityPersister.java:2053)
	at org.hibernate.hql.internal.ast.tree.FromElementType.getPropertyType(FromElementType.java:412)
	at org.hibernate.hql.internal.ast.tree.FromElement.getPropertyType(FromElement.java:524)
	at org.hibernate.hql.internal.ast.tree.DotNode.getDataType(DotNode.java:723)
	at org.hibernate.hql.internal.ast.tree.DotNode.prepareLhs(DotNode.java:268)
	at org.hibernate.hql.internal.ast.tree.DotNode.resolve(DotNode.java:208)
	at org.hibernate.hql.internal.ast.HqlSqlWalker.resolve(HqlSqlWalker.java:1066)
	at org.hibernate.hql.internal.ast.HqlSqlWalker.resolve(HqlSqlWalker.java:1054)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.assignment(HqlSqlBaseWalker.java:1080)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.setClause(HqlSqlBaseWalker.java:791)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.updateStatement(HqlSqlBaseWalker.java:407)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:295)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192)
	... 112 common frames omitted
2025-08-06 23:18:12.618 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 5444 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 23:18:12.626 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 23:18:12.627 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 23:18:16.705 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:18:16.707 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 23:18:17.397 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 664 ms. Found 5 JPA repository interfaces.
2025-08-06 23:18:18.900 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:18:18.903 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 23:18:19.006 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:18:19.011 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:18:19.013 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:18:19.016 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:18:19.019 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 114 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 23:18:19.056 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:18:19.060 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-06 23:18:19.151 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.elasticsearch.LeadSearchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:18:19.154 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:18:19.156 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:18:19.157 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:18:19.159 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:18:19.161 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:18:19.161 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 64 ms. Found 0 Redis repository interfaces.
2025-08-06 23:18:21.942 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 23:18:21.980 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 23:18:21.982 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 23:18:22.297 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 23:18:22.297 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 9448 ms
2025-08-06 23:18:22.690 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 23:18:23.221 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 23:18:23.240 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-08-06 23:18:23.487 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 23:18:23.974 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 23:18:24.248 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 23:18:24.881 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 23:18:25.387 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 23:18:27.420 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 23:18:27.426 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 23:18:27.428 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 23:18:27.429 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 23:18:27.430 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 23:18:27.432 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 23:18:27.433 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 23:18:27.435 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 23:18:27.436 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 23:18:27.443 [main] DEBUG org.hibernate.SQL - 
    
    create table lead_views (
       id bigint generated by default as identity,
        created_by bigint,
        created_time timestamp,
        ip_address varchar(45),
        lead_id bigint not null,
        updated_by bigint,
        updated_time timestamp,
        user_agent varchar(500),
        user_id bigint,
        view_time timestamp not null,
        primary key (id)
    )
2025-08-06 23:18:27.463 [main] DEBUG org.hibernate.SQL - 
    
    create table leads (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        audit_remark varchar(500),
        audit_status varchar(20) not null,
        audit_time timestamp,
        auditor_id bigint,
        company_name varchar(200) not null,
        company_type varchar(50) not null,
        contact_email varchar(100),
        contact_person varchar(100) not null,
        contact_phone varchar(20) not null,
        description TEXT,
        favorite_count int default 0 not null,
        industry_direction varchar(100),
        intended_area numeric(10,2),
        intended_region varchar(100),
        investment_amount numeric(15,2),
        office_type varchar(50) not null,
        owner_id bigint not null,
        published_time timestamp,
        rating varchar(10),
        rating_score integer,
        registered_capital numeric(15,2),
        status varchar(20) not null,
        primary key (id)
    )
2025-08-06 23:18:27.473 [main] DEBUG org.hibernate.SQL - 
    
    create table permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        component varchar(200),
        description varchar(200),
        icon varchar(100),
        method varchar(10),
        parent_id bigint,
        path varchar(200),
        permission_code varchar(100) not null,
        permission_name varchar(100) not null,
        permission_type varchar(20) not null,
        sort_order integer not null,
        status integer not null,
        url varchar(200),
        primary key (id)
    )
2025-08-06 23:18:27.473 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_histories (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        change_description varchar(500),
        change_reason varchar(50) not null,
        current_rating varchar(10) not null,
        current_score integer not null,
        lead_id bigint not null,
        operator_id bigint,
        operator_name varchar(100),
        previous_rating varchar(10),
        previous_score integer,
        rating_details TEXT,
        rating_time timestamp not null,
        rating_version varchar(20),
        primary key (id)
    )
2025-08-06 23:18:27.482 [main] DEBUG org.hibernate.SQL - 
    
    create table rating_rules (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        calculation_method varchar(50) not null,
        config_params TEXT,
        description varchar(500),
        is_enabled boolean not null,
        rule_name varchar(100) not null,
        rule_type varchar(50) not null,
        sort_order integer not null,
        weight numeric(5,2) not null,
        primary key (id)
    )
2025-08-06 23:18:27.486 [main] DEBUG org.hibernate.SQL - 
    
    create table role_permissions (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id)
    )
2025-08-06 23:18:27.488 [main] DEBUG org.hibernate.SQL - 
    
    create table roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        description varchar(200),
        role_code varchar(50) not null,
        role_name varchar(50) not null,
        sort_order integer not null,
        status integer not null,
        primary key (id)
    )
2025-08-06 23:18:27.492 [main] DEBUG org.hibernate.SQL - 
    
    create table user_roles (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-08-06 23:18:27.497 [main] DEBUG org.hibernate.SQL - 
    
    create table users (
       id bigint generated by default as identity,
        create_by bigint,
        create_time timestamp not null,
        deleted integer not null,
        remark varchar(500),
        update_by bigint,
        update_time timestamp not null,
        version integer not null,
        avatar varchar(500),
        business_license varchar(100),
        company_name varchar(200),
        company_size varchar(20),
        company_type varchar(50),
        credit_code varchar(50),
        email varchar(255),
        industry varchar(100),
        last_login_ip varchar(50),
        last_login_time timestamp,
        location varchar(100),
        login_count integer not null,
        password varchar(255) not null,
        phone varchar(255) not null,
        position varchar(100),
        real_name varchar(100),
        region_code varchar(20),
        region_name varchar(100),
        status integer not null,
        username varchar(50) not null,
        verified integer not null,
        primary key (id)
    )
2025-08-06 23:18:27.502 [main] DEBUG org.hibernate.SQL - 
    
    alter table permissions 
       add constraint UK_3t7dqv661lw96xkq9kqgmbtw6 unique (permission_code)
2025-08-06 23:18:27.507 [main] DEBUG org.hibernate.SQL - 
    
    alter table roles 
       add constraint UK_949pwsnk7kxk0px0tbj3r3web unique (role_code)
2025-08-06 23:18:27.507 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-08-06 23:18:27.507 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_du5v5sr43g5bfnji4vb8hg5s3 unique (phone)
2025-08-06 23:18:27.513 [main] DEBUG org.hibernate.SQL - 
    
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-08-06 23:18:27.516 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-08-06 23:18:27.531 [main] DEBUG org.hibernate.SQL - 
    
    alter table role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-08-06 23:18:27.535 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-06 23:18:27.539 [main] DEBUG org.hibernate.SQL - 
    
    alter table user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-06 23:18:27.549 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-06 23:18:27.581 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 23:18:28.334 [main] INFO  com.leadexchange.config.RedisConfig - RedisTemplate配置完成
2025-08-06 23:18:29.054 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - JSqlParser is in classpath. If applicable JSqlParser will be used.
2025-08-06 23:18:30.673 [main] INFO  o.s.d.p.DefaultProjectionInformation$PropertyDescriptorSource - Couldn't read class metadata for interface java.util.Map. Input property calculation might fail
2025-08-06 23:18:30.832 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.createLead(com.leadexchange.domain.lead.Lead,javax.servlet.http.HttpServletRequest)
2025-08-06 23:18:30.883 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.createLead(com.leadexchange.domain.lead.Lead,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:30.921 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.deleteLead(java.lang.Long,javax.servlet.http.HttpServletRequest)
2025-08-06 23:18:30.924 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.deleteLead(java.lang.Long,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:30.926 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.updateLead(java.lang.Long,com.leadexchange.domain.lead.Lead,javax.servlet.http.HttpServletRequest)
2025-08-06 23:18:30.933 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.updateLead(java.lang.Long,com.leadexchange.domain.lead.Lead,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:30.942 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('ADMIN')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.auditLead(java.lang.Long,com.leadexchange.domain.lead.AuditStatus,java.lang.String,javax.servlet.http.HttpServletRequest)
2025-08-06 23:18:30.943 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.auditLead(java.lang.Long,com.leadexchange.domain.lead.AuditStatus,java.lang.String,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:30.945 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.getMyLeads(int,int,com.leadexchange.domain.lead.LeadStatus,javax.servlet.http.HttpServletRequest)
2025-08-06 23:18:30.947 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.getMyLeads(int,int,com.leadexchange.domain.lead.LeadStatus,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:30.948 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.offlineLead(java.lang.Long,javax.servlet.http.HttpServletRequest)
2025-08-06 23:18:30.949 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.offlineLead(java.lang.Long,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:30.951 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.publishLead(java.lang.Long,javax.servlet.http.HttpServletRequest)
2025-08-06 23:18:30.953 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.publishLead(java.lang.Long,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:30.954 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.unfavoriteLead(java.lang.Long,javax.servlet.http.HttpServletRequest)
2025-08-06 23:18:30.955 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.unfavoriteLead(java.lang.Long,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:30.956 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.favoriteLead(java.lang.Long,javax.servlet.http.HttpServletRequest)
2025-08-06 23:18:30.957 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.favoriteLead(java.lang.Long,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:30.959 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole('USER')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.getFavoriteLeads(int,int,javax.servlet.http.HttpServletRequest)
2025-08-06 23:18:30.961 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.lead.LeadController; public com.leadexchange.common.result.Result com.leadexchange.controller.lead.LeadController.getFavoriteLeads(int,int,javax.servlet.http.HttpServletRequest)]] with attributes [[authorize: 'hasRole('USER')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:30.976 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:validate')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.validateRatingRules()
2025-08-06 23:18:30.977 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingEngineController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.validateRatingRules()]] with attributes [[authorize: 'hasAuthority('rating:validate')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:30.979 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:statistics')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.getRatingStatistics(java.time.LocalDateTime,java.time.LocalDateTime)
2025-08-06 23:18:30.980 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingEngineController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.getRatingStatistics(java.time.LocalDateTime,java.time.LocalDateTime)]] with attributes [[authorize: 'hasAuthority('rating:statistics')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:30.981 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:calculate')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.calculateRatingBatch(java.util.List)
2025-08-06 23:18:30.983 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingEngineController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.calculateRatingBatch(java.util.List)]] with attributes [[authorize: 'hasAuthority('rating:calculate')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:30.983 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:statistics')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.getRatingDistribution(java.time.LocalDateTime,java.time.LocalDateTime)
2025-08-06 23:18:30.984 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingEngineController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.getRatingDistribution(java.time.LocalDateTime,java.time.LocalDateTime)]] with attributes [[authorize: 'hasAuthority('rating:statistics')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:30.985 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:batch-rerating')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.batchRerating(com.leadexchange.domain.rating.RatingChangeReason)
2025-08-06 23:18:30.986 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingEngineController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.batchRerating(com.leadexchange.domain.rating.RatingChangeReason)]] with attributes [[authorize: 'hasAuthority('rating:batch-rerating')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:30.987 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:recalculate')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.recalculateRating(java.lang.Long,com.leadexchange.domain.rating.RatingChangeReason)
2025-08-06 23:18:30.988 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingEngineController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.recalculateRating(java.lang.Long,com.leadexchange.domain.rating.RatingChangeReason)]] with attributes [[authorize: 'hasAuthority('rating:recalculate')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:30.989 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:statistics')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.getRatingTrend(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)
2025-08-06 23:18:30.991 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingEngineController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.getRatingTrend(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)]] with attributes [[authorize: 'hasAuthority('rating:statistics')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:30.992 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:calculate')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.calculateRating(java.lang.Long)
2025-08-06 23:18:30.992 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingEngineController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.calculateRating(java.lang.Long)]] with attributes [[authorize: 'hasAuthority('rating:calculate')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:30.992 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:view')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.getRatingDetails(java.lang.Long)
2025-08-06 23:18:30.995 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingEngineController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.getRatingDetails(java.lang.Long)]] with attributes [[authorize: 'hasAuthority('rating:view')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:30.995 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:cache-refresh')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.refreshRatingCache()
2025-08-06 23:18:30.997 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingEngineController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.refreshRatingCache()]] with attributes [[authorize: 'hasAuthority('rating:cache-refresh')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:30.999 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:adjust')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.adjustRating(java.lang.Long,com.leadexchange.domain.lead.LeadRating,java.lang.String)
2025-08-06 23:18:31.002 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingEngineController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.adjustRating(java.lang.Long,com.leadexchange.domain.lead.LeadRating,java.lang.String)]] with attributes [[authorize: 'hasAuthority('rating:adjust')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.004 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:export')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.exportRatingReport(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)
2025-08-06 23:18:31.004 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingEngineController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.exportRatingReport(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)]] with attributes [[authorize: 'hasAuthority('rating:export')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.004 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:view')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.previewRating(java.lang.Long)
2025-08-06 23:18:31.007 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingEngineController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingEngineController.previewRating(java.lang.Long)]] with attributes [[authorize: 'hasAuthority('rating:view')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.038 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:history:view')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.getHistoryByOperator(java.lang.Long,org.springframework.data.domain.Pageable)
2025-08-06 23:18:31.039 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingHistoryController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.getHistoryByOperator(java.lang.Long,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasAuthority('rating:history:view')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.039 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:history:view')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.getHistoryByRatingChange(com.leadexchange.domain.lead.LeadRating,com.leadexchange.domain.lead.LeadRating,org.springframework.data.domain.Pageable)
2025-08-06 23:18:31.039 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingHistoryController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.getHistoryByRatingChange(com.leadexchange.domain.lead.LeadRating,com.leadexchange.domain.lead.LeadRating,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasAuthority('rating:history:view')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.044 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:history:delete')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.deleteExpiredHistory(int)
2025-08-06 23:18:31.046 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingHistoryController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.deleteExpiredHistory(int)]] with attributes [[authorize: 'hasAuthority('rating:history:delete')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.049 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:history:rollback')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.getRollbackSuggestions(java.lang.Long,java.time.LocalDateTime)
2025-08-06 23:18:31.053 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingHistoryController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.getRollbackSuggestions(java.lang.Long,java.time.LocalDateTime)]] with attributes [[authorize: 'hasAuthority('rating:history:rollback')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.055 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:history:view')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.getHistoryByTimeRange(java.time.LocalDateTime,java.time.LocalDateTime,org.springframework.data.domain.Pageable)
2025-08-06 23:18:31.058 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingHistoryController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.getHistoryByTimeRange(java.time.LocalDateTime,java.time.LocalDateTime,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasAuthority('rating:history:view')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.060 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:history:statistics')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.getHistoryStatistics(java.time.LocalDateTime,java.time.LocalDateTime)
2025-08-06 23:18:31.062 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingHistoryController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.getHistoryStatistics(java.time.LocalDateTime,java.time.LocalDateTime)]] with attributes [[authorize: 'hasAuthority('rating:history:statistics')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.063 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:history:statistics')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.getOperatorStatistics(java.time.LocalDateTime,java.time.LocalDateTime)
2025-08-06 23:18:31.066 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingHistoryController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.getOperatorStatistics(java.time.LocalDateTime,java.time.LocalDateTime)]] with attributes [[authorize: 'hasAuthority('rating:history:statistics')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.067 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:history:view')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.getHistoryByLeadId(java.lang.Long,org.springframework.data.domain.Pageable)
2025-08-06 23:18:31.069 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingHistoryController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.getHistoryByLeadId(java.lang.Long,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasAuthority('rating:history:view')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.071 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:history:export')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.exportHistoryData(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)
2025-08-06 23:18:31.072 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingHistoryController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.exportHistoryData(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)]] with attributes [[authorize: 'hasAuthority('rating:history:export')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.074 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:history:statistics')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.getHistoryTrend(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)
2025-08-06 23:18:31.076 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingHistoryController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.getHistoryTrend(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)]] with attributes [[authorize: 'hasAuthority('rating:history:statistics')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.076 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:history:rollback')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.executeRollback(java.lang.Long,java.lang.Long,java.lang.String)
2025-08-06 23:18:31.077 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingHistoryController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.executeRollback(java.lang.Long,java.lang.Long,java.lang.String)]] with attributes [[authorize: 'hasAuthority('rating:history:rollback')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.078 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:history:view')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.searchHistory(java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,com.leadexchange.domain.rating.RatingChangeReason,com.leadexchange.domain.lead.LeadRating,org.springframework.data.domain.Pageable)
2025-08-06 23:18:31.079 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingHistoryController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.searchHistory(java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,com.leadexchange.domain.rating.RatingChangeReason,com.leadexchange.domain.lead.LeadRating,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasAuthority('rating:history:view')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.080 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:history:view')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.getAllHistory(org.springframework.data.domain.Pageable)
2025-08-06 23:18:31.081 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingHistoryController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.getAllHistory(org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasAuthority('rating:history:view')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.082 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:history:view')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.getHistoryById(java.lang.Long)
2025-08-06 23:18:31.083 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingHistoryController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.getHistoryById(java.lang.Long)]] with attributes [[authorize: 'hasAuthority('rating:history:view')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.085 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:history:delete')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.deleteHistoryBatch(java.util.List)
2025-08-06 23:18:31.089 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingHistoryController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.deleteHistoryBatch(java.util.List)]] with attributes [[authorize: 'hasAuthority('rating:history:delete')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.090 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:history:view')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.getHistoryByReason(com.leadexchange.domain.rating.RatingChangeReason,org.springframework.data.domain.Pageable)
2025-08-06 23:18:31.091 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingHistoryController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingHistoryController.getHistoryByReason(com.leadexchange.domain.rating.RatingChangeReason,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasAuthority('rating:history:view')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.124 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:rule:reset')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.resetToDefaultRules()
2025-08-06 23:18:31.128 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingRuleController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.resetToDefaultRules()]] with attributes [[authorize: 'hasAuthority('rating:rule:reset')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.131 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:rule:update')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.updateRule(java.lang.Long,com.leadexchange.domain.rating.RatingRule)
2025-08-06 23:18:31.131 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingRuleController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.updateRule(java.lang.Long,com.leadexchange.domain.rating.RatingRule)]] with attributes [[authorize: 'hasAuthority('rating:rule:update')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.133 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:rule:delete')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.deleteRule(java.lang.Long)
2025-08-06 23:18:31.134 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingRuleController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.deleteRule(java.lang.Long)]] with attributes [[authorize: 'hasAuthority('rating:rule:delete')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.135 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:rule:create')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.createRule(com.leadexchange.domain.rating.RatingRule)
2025-08-06 23:18:31.136 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingRuleController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.createRule(com.leadexchange.domain.rating.RatingRule)]] with attributes [[authorize: 'hasAuthority('rating:rule:create')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.137 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:rule:update')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.enableRule(java.lang.Long)
2025-08-06 23:18:31.137 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingRuleController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.enableRule(java.lang.Long)]] with attributes [[authorize: 'hasAuthority('rating:rule:update')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.138 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:rule:create')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.copyRule(java.lang.Long,java.lang.String)
2025-08-06 23:18:31.139 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingRuleController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.copyRule(java.lang.Long,java.lang.String)]] with attributes [[authorize: 'hasAuthority('rating:rule:create')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.140 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:rule:view')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.getRulesByCalculationMethod(com.leadexchange.domain.rating.CalculationMethod)
2025-08-06 23:18:31.141 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingRuleController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.getRulesByCalculationMethod(com.leadexchange.domain.rating.CalculationMethod)]] with attributes [[authorize: 'hasAuthority('rating:rule:view')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.141 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:rule:delete')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.deleteRulesBatch(java.util.List)
2025-08-06 23:18:31.143 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingRuleController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.deleteRulesBatch(java.util.List)]] with attributes [[authorize: 'hasAuthority('rating:rule:delete')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.144 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:rule:update')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.adjustRuleSort(java.util.List)
2025-08-06 23:18:31.145 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingRuleController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.adjustRuleSort(java.util.List)]] with attributes [[authorize: 'hasAuthority('rating:rule:update')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.145 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:rule:import')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.importRules(org.springframework.web.multipart.MultipartFile,boolean)
2025-08-06 23:18:31.146 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingRuleController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.importRules(org.springframework.web.multipart.MultipartFile,boolean)]] with attributes [[authorize: 'hasAuthority('rating:rule:import')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.147 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:rule:update')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.disableRulesBatch(java.util.List)
2025-08-06 23:18:31.148 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingRuleController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.disableRulesBatch(java.util.List)]] with attributes [[authorize: 'hasAuthority('rating:rule:update')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.148 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:rule:export')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.exportRules(java.lang.String)
2025-08-06 23:18:31.149 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingRuleController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.exportRules(java.lang.String)]] with attributes [[authorize: 'hasAuthority('rating:rule:export')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.150 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:rule:update')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.enableRulesBatch(java.util.List)
2025-08-06 23:18:31.150 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingRuleController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.enableRulesBatch(java.util.List)]] with attributes [[authorize: 'hasAuthority('rating:rule:update')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.151 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:rule:statistics')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.getRuleStatistics()
2025-08-06 23:18:31.152 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingRuleController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.getRuleStatistics()]] with attributes [[authorize: 'hasAuthority('rating:rule:statistics')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.153 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:rule:view')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.getRuleTemplate(com.leadexchange.domain.rating.RatingRuleType)
2025-08-06 23:18:31.154 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingRuleController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.getRuleTemplate(com.leadexchange.domain.rating.RatingRuleType)]] with attributes [[authorize: 'hasAuthority('rating:rule:view')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.154 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:rule:view')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.getAllRules(org.springframework.data.domain.Pageable)
2025-08-06 23:18:31.155 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingRuleController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.getAllRules(org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasAuthority('rating:rule:view')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.156 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:rule:view')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.getRulesByType(com.leadexchange.domain.rating.RatingRuleType)
2025-08-06 23:18:31.157 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingRuleController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.getRulesByType(com.leadexchange.domain.rating.RatingRuleType)]] with attributes [[authorize: 'hasAuthority('rating:rule:view')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.158 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:rule:view')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.getEnabledRules()
2025-08-06 23:18:31.158 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingRuleController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.getEnabledRules()]] with attributes [[authorize: 'hasAuthority('rating:rule:view')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.159 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:rule:update')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.disableRule(java.lang.Long)
2025-08-06 23:18:31.159 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingRuleController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.disableRule(java.lang.Long)]] with attributes [[authorize: 'hasAuthority('rating:rule:update')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.160 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:rule:view')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.getRuleById(java.lang.Long)
2025-08-06 23:18:31.160 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingRuleController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.getRuleById(java.lang.Long)]] with attributes [[authorize: 'hasAuthority('rating:rule:view')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:31.161 [main] DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasAuthority('rating:rule:validate')") found on specific method: public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.validateRule(com.leadexchange.domain.rating.RatingRule)
2025-08-06 23:18:31.162 [main] DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.leadexchange.controller.rating.RatingRuleController; public com.leadexchange.common.result.Result com.leadexchange.controller.rating.RatingRuleController.validateRule(com.leadexchange.domain.rating.RatingRule)]] with attributes [[authorize: 'hasAuthority('rating:rule:validate')', filter: 'null', filterTarget: 'null']]
2025-08-06 23:18:32.014 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-06 23:18:32.252 [main] INFO  com.leadexchange.config.CorsConfig - 全局CORS配置完成 - 允许的源: [http://localhost:3000, http://localhost:5173, http://127.0.0.1:3000, http://127.0.0.1:5173], 允许的方法: [GET, POST, PUT, DELETE, OPTIONS, PATCH], 最大缓存时间: 3600秒
2025-08-06 23:18:32.423 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 86 mappings in 'requestMappingHandlerMapping'
2025-08-06 23:18:33.488 [main] INFO  com.leadexchange.config.RabbitMQConfig - 配置RabbitMQ消息转换器
2025-08-06 23:18:33.522 [main] INFO  com.leadexchange.config.RabbitMQConfig - RabbitTemplate配置完成
2025-08-06 23:18:33.813 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-06 23:18:34.141 [main] INFO  com.leadexchange.config.RabbitMQConfig - RabbitMQ监听器容器工厂配置完成
2025-08-06 23:18:34.216 [main] INFO  com.leadexchange.config.RedisConfig - Redis缓存管理器配置完成，默认TTL: 3600000ms
2025-08-06 23:18:34.325 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-08-06 23:18:34.601 [main] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@46a6b8d6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@485996f7, org.springframework.security.web.context.SecurityContextPersistenceFilter@2d5cb059, org.springframework.security.web.header.HeaderWriterFilter@1a6864f0, org.springframework.web.filter.CorsFilter@35984172, org.springframework.security.web.authentication.logout.LogoutFilter@1a8e209b, com.leadexchange.security.JwtAuthenticationFilter@2bc59ab7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@431782fe, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e16fcaf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@746fda68, org.springframework.security.web.session.SessionManagementFilter@6dac64ea, org.springframework.security.web.access.ExceptionTranslationFilter@6c720765, org.springframework.security.web.access.intercept.AuthorizationFilter@48c8c722]
2025-08-06 23:18:34.647 [main] INFO  com.leadexchange.config.SwaggerConfig - Swagger OpenAPI配置完成，访问地址: http://localhost:8080/swagger-ui/index.html
2025-08-06 23:18:34.970 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-06 23:18:35.167 [main] DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2025-08-06 23:18:35.256 [main] DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2025-08-06 23:18:35.283 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-06 23:18:36.278 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-08-06 23:18:36.342 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()" because "this.condition" is null
2025-08-06 23:18:36.429 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-06 23:18:36.430 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2025-08-06 23:18:36.433 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists lead_views CASCADE 
2025-08-06 23:18:36.438 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists leads CASCADE 
2025-08-06 23:18:36.441 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists permissions CASCADE 
2025-08-06 23:18:36.444 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_histories CASCADE 
2025-08-06 23:18:36.447 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists rating_rules CASCADE 
2025-08-06 23:18:36.449 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists role_permissions CASCADE 
2025-08-06 23:18:36.453 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists roles CASCADE 
2025-08-06 23:18:36.457 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists user_roles CASCADE 
2025-08-06 23:18:36.460 [main] DEBUG org.hibernate.SQL - 
    
    drop table if exists users CASCADE 
2025-08-06 23:18:36.467 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 23:18:36.472 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 23:18:36.507 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 23:18:36.553 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 23:18:36.634 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException: Cannot invoke "org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()" because "this.condition" is null
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:182)
	at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:357)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:156)
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:124)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:946)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:594)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:40)
Caused by: java.lang.NullPointerException: Cannot invoke "org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()" because "this.condition" is null
	at springfox.documentation.spring.web.WebMvcPatternsRequestConditionWrapper.getPatterns(WebMvcPatternsRequestConditionWrapper.java:56)
	at springfox.documentation.RequestHandler.sortedPaths(RequestHandler.java:113)
	at springfox.documentation.spi.service.contexts.Orderings.lambda$byPatternsCondition$3(Orderings.java:89)
	at java.base/java.util.Comparator.lambda$comparing$77a9974f$1(Comparator.java:473)
	at java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355)
	at java.base/java.util.TimSort.sort(TimSort.java:234)
	at java.base/java.util.Arrays.sort(Arrays.java:1307)
	at java.base/java.util.ArrayList.sort(ArrayList.java:1805)
	at java.base/java.util.stream.SortedOps$RefSortingSink.end(SortedOps.java:392)
	at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:261)
	at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.end(ReferencePipeline.java:285)
	at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:261)
	at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:261)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:571)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at springfox.documentation.spring.web.plugins.WebMvcRequestHandlerProvider.requestHandlers(WebMvcRequestHandlerProvider.java:81)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.withDefaults(AbstractDocumentationPluginsBootstrapper.java:107)
	at springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.buildContext(AbstractDocumentationPluginsBootstrapper.java:91)
	at springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.bootstrapDocumentationPlugins(AbstractDocumentationPluginsBootstrapper.java:82)
	at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.start(DocumentationPluginsBootstrapper.java:100)
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:179)
	... 14 common frames omitted
2025-08-06 23:20:29.409 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 17104 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 23:20:29.416 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 23:20:29.418 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 23:20:32.877 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:20:32.878 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 23:20:33.323 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 414 ms. Found 5 JPA repository interfaces.
2025-08-06 23:20:34.651 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:20:34.656 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 23:20:34.762 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:20:34.764 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:20:34.766 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:20:34.767 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:20:34.769 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 111 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 23:20:34.798 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:20:34.803 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-06 23:20:34.869 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.elasticsearch.LeadSearchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:20:34.871 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:20:34.872 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:20:34.874 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:20:34.875 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:20:34.877 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:20:34.878 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 48 ms. Found 0 Redis repository interfaces.
2025-08-06 23:20:36.468 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 23:20:36.839 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 7186 ms
2025-08-06 23:20:37.123 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 23:20:37.558 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 23:20:37.579 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-08-06 23:20:37.771 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 23:20:37.938 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 23:20:38.039 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 23:20:38.334 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 23:20:38.542 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 23:20:39.319 [main] ERROR o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister
2025-08-06 23:20:39.321 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister
2025-08-06 23:20:39.323 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 23:20:39.326 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 23:20:57.884 [main] INFO  com.leadexchange.LeadExchangeApplication - Starting LeadExchangeApplication using Java 23.0.2 on lpz with PID 23232 (C:\Users\李鹏洲\Desktop\project03\backend\target\classes started by 李鹏洲 in C:\Users\李鹏洲\Desktop\project03\backend)
2025-08-06 23:20:57.893 [main] DEBUG com.leadexchange.LeadExchangeApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-08-06 23:20:57.893 [main] INFO  com.leadexchange.LeadExchangeApplication - The following 1 profile is active: "dev"
2025-08-06 23:21:00.404 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:21:00.412 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-06 23:21:00.779 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 325 ms. Found 5 JPA repository interfaces.
2025-08-06 23:21:01.636 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:21:01.640 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2025-08-06 23:21:01.706 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:21:01.708 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:21:01.709 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:21:01.711 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Reactive Elasticsearch - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Reactive Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ReactiveElasticsearchRepository
2025-08-06 23:21:01.712 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 70 ms. Found 0 Reactive Elasticsearch repository interfaces.
2025-08-06 23:21:01.737 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-06 23:21:01.741 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-06 23:21:01.811 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.elasticsearch.LeadSearchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:21:01.814 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:21:01.815 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.lead.LeadViewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:21:01.816 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:21:01.818 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.rating.RatingRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:21:01.820 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.leadexchange.repository.user.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-06 23:21:01.820 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 57 ms. Found 0 Redis repository interfaces.
2025-08-06 23:21:03.234 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-06 23:21:03.271 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-06 23:21:03.272 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-06 23:21:03.528 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-06 23:21:03.529 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5393 ms
2025-08-06 23:21:03.836 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Starting...
2025-08-06 23:21:04.184 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Start completed.
2025-08-06 23:21:04.203 [main] INFO  o.s.b.autoconfigure.h2.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-08-06 23:21:04.397 [main] DEBUG com.leadexchange.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-06 23:21:04.549 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-06 23:21:04.658 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-06 23:21:04.948 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-06 23:21:05.140 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2025-08-06 23:21:06.028 [main] ERROR o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister
2025-08-06 23:21:06.028 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister
2025-08-06 23:21:06.032 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown initiated...
2025-08-06 23:21:06.033 [main] INFO  com.zaxxer.hikari.HikariDataSource - DatebookHikariCP - Shutdown completed.
2025-08-06 23:21:06.039 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-06 23:21:06.064 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-06 23:21:06.119 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1168)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:919)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.leadexchange.LeadExchangeApplication.main(LeadExchangeApplication.java:40)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
Caused by: org.hibernate.MappingException: Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister
	at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:123)
	at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:77)
	at org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:182)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:319)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
Caused by: org.hibernate.InstantiationException: could not instantiate test object : com.leadexchange.domain.user.UserRole
	at org.hibernate.engine.internal.UnsavedValueFactory.instantiate(UnsavedValueFactory.java:43)
	at org.hibernate.engine.internal.UnsavedValueFactory.getUnsavedIdentifierValue(UnsavedValueFactory.java:68)
	at org.hibernate.tuple.PropertyFactory.buildIdentifierAttribute(PropertyFactory.java:65)
	at org.hibernate.tuple.entity.EntityMetamodel.<init>(EntityMetamodel.java:142)
	at org.hibernate.persister.entity.AbstractEntityPersister.<init>(AbstractEntityPersister.java:613)
	at org.hibernate.persister.entity.SingleTableEntityPersister.<init>(SingleTableEntityPersister.java:126)
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:501)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:485)
	at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:96)
	... 28 common frames omitted
Caused by: java.lang.reflect.InvocationTargetException: null
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:74)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:501)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:485)
	at org.hibernate.engine.internal.UnsavedValueFactory.instantiate(UnsavedValueFactory.java:40)
	... 37 common frames omitted
Caused by: java.lang.Error: Unresolved compilation problems: 
	The import io.swagger.annotations cannot be resolved
	The import io.swagger.annotations cannot be resolved
	ApiModel cannot be resolved to a type
	ApiModelProperty cannot be resolved to a type
	ApiModelProperty cannot be resolved to a type
	ApiModelProperty cannot be resolved to a type
	ApiModelProperty cannot be resolved to a type
	ApiModelProperty cannot be resolved to a type

	at com.leadexchange.domain.user.UserRole.<init>(UserRole.java:4)
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	... 40 common frames omitted
